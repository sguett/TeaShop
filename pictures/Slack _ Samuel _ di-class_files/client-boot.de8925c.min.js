(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Sjy":function(e,t,r){"use strict";r.d(t,"h",function(){return O}),r.d(t,"g",function(){return g}),r.d(t,"e",function(){return v}),r.d(t,"f",function(){return y}),r.d(t,"a",function(){return I}),r.d(t,"b",function(){return w}),r.d(t,"c",function(){return j}),r.d(t,"d",function(){return S});var n=r("vJtL"),a=r("Z3Pq"),o=r("peh1"),s=r("IniL"),i=r("s4P+"),c=r("ayyL"),l=r("D6w7"),d=r("v3s2"),u=r("CnUw"),p=r("4c9C"),m=r("v5z3"),_=r("kcos"),f=[{path:"composer",id:"Pcomposer",isEnabled:e=>Object(d.a)(e),isExcludedFromSearch:()=>!0},{path:"drafts",id:"Pdrafts",isEnabled:e=>Object(d.a)(e)},{path:"example",id:"Pexample",isEnabled:e=>Object(s.j)(e,"feature_pages_example")},{path:"home",id:"Phome",isEnabled:e=>Object(l.e)(e)},{path:"unreads",id:"Punreads"},{path:"learning-slack",id:"Pwelcome",isEnabled:e=>Object(c.x)(e)},{path:"apps",id:"Papps"},{path:"activity-page",id:"Pactivity",isEnabled:e=>Object(_.k)(e)},{path:"saved-page",id:"Psaved",isEnabled:e=>Object(_.k)(e)},{path:"browse-files",id:"Pbrowse-files",isEnabled:e=>Object(_.k)(e)},{path:"browse-people",id:"Pbrowse-people",isEnabled:e=>Object(_.k)(e)},{path:"browse-channels",id:"Pbrowse-channels",isEnabled:e=>Object(_.k)(e)},{path:"browse-user-groups",id:"Pbrowse-user-groups",isEnabled:e=>Object(_.k)(e)},{path:"browse-channels-protoype",id:"Pbrowse-channels-prototype",isEnabled:e=>Object(_.k)(e)},{path:"paid-benefits",id:"Ppaid-benefits",isEnabled:e=>Object(u.a)(e)},{path:m.f.TeamName,id:m.e.TeamName,isEnabled:e=>Object(p.d)(e)},{path:m.f.Channels,id:m.e.Channels,isEnabled:e=>Object(p.d)(e)},{path:m.f.Invites,id:m.e.Invites,isEnabled:e=>Object(p.d)(e)},{path:"recent",id:"Precent",isEnabled:e=>Object(_.l)(e)}],b=Object(a.a)(f,"id"),h=Object(a.a)(f,"path");h.unreads.id;function O(e){return!!h[e]}function g(e){return!!b[e]}function v(e,t){return!!t&&(Object(n.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(i.b)().error("PAGES","Page "+t.id+" has an invalid isEnabled property - it needs to either be a function or undefined"),!1))}function y(e,t){return v(e,j(t))}function I(){return f}var w=Object(o.createSelector)(I().map(e=>t=>v(t,e)),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return I().filter((e,r)=>t[r])});function j(e){return b[e]}function S(e){return h[e]}},"+cPl":function(e,t,r){"use strict";r.d(t,"e",function(){return h}),r.d(t,"a",function(){return O}),r.d(t,"f",function(){return y}),r.d(t,"b",function(){return I}),r.d(t,"d",function(){return w}),r.d(t,"c",function(){return j});var n=r("rePB"),a=r("Ff2n"),o=r("Bw5p"),s=r("7EGn"),i=r("aK/h"),c=r("2XU3"),l=r("UjNr"),d=r("s4P+"),u=r("QOs+"),p=r("6jsb"),m=r("IniL"),_=r("5v1V");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=Object(u.a)("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var{pref:r,value:n=null,reason:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(c.b)({method:"team.prefs.set",args:{prefs:JSON.stringify({[r]:n})},reason:a})).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the pref "'+r+'"'),e})});h.meta={name:"setTeamPref",key:"fetchersPrefsApiSetTeamPref",description:"Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first"},h.propTypes={pref:i.default.string.isRequired,value:i.default.any,reason:i.default.string};var O=Object(u.a)("Set multiple team prefs via the setPref API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={method:"team.prefs.set",args:{prefs:JSON.stringify(r)},reason:"prefs-api/setMultipleTeamPrefsByApi"};return e(Object(c.b)(n)).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the prefs "'+Object.keys(r).join(", ")+'"'),e})});O.meta={name:"setMultipleTeamPrefs",key:"fetchersPrefsApiSetMultipleTeamPrefs",description:"Set multiple team prefs via the setPref API"},O.propTypes={prefs:i.default.object};var g=Object(u.a)("Get one or more named user prefs via API",function(e,t){var{prefs:r=[],reason:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.length?e(Object(c.b)({method:"users.prefs.get",args:{prefs:r.join(",")},reason:n})).then(e=>e.prefs).catch(()=>{Object(d.a)({getState:t}).error("PREFS","user.prefs.get failed to fetch the prefs",r)}):Promise.reject(new Error("No prefs were passed to getUserPrefsByApi."))});g.meta={name:"getUserPrefsByApi",key:"fetchersPrefsApiGetUserPrefsByApi",description:"Get one or more named user prefs via API"},g.propTypes={prefs:i.default.array.isRequired,reason:i.default.string.isRequired};var v=Object(p.b)("Trigger pref_change events for each of the preferences in the given payload",(e,t,r)=>{Object.keys(r).forEach(t=>{e(Object(_.c)({type:"pref_change",name:t,value:r[t]}))})});v.meta={name:"triggerDegradedModePrefChangeEvents",key:"fetchersPrefsApiTriggerDegradedModePrefChangeEvents",description:"Trigger pref_change events for each of the preferences in the given payload"},v.propTypes=i.default.object.isRequired;var y=Object(u.a)("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pref:n,value:o}=r,s=Object(a.a)(r,["pref","value"]),i=t(),u={method:"users.prefs.set",args:b({name:n,value:o},s),reason:"prefs-api/setUserPrefByApi"};return Object(m.j)(i,"feature_offline_mode")?e(Object(l.a)(u)).tap(()=>{e(v({[n]:o}))}):e(Object(c.b)(u)).tap(t=>e(v({[n]:t.prefs[n]}))).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'user.prefs.set failed to update the pref "'+n+'"'),e})});y.meta={name:"setUserPref",key:"fetchersPrefsApiSetUserPref",description:"Set a pref via the setPref API, updating local prefs optimistically first"},y.propTypes={pref:i.default.string.isRequired,value:i.default.any};var I=Object(u.a)("Set multiple prefs via the setPref API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t(),a={method:"users.prefs.set",args:{prefs:JSON.stringify(r)},reason:"prefs-api/setMultipleUserPrefsByApi"};return Object(m.j)(n,"feature_offline_mode")?e(Object(l.a)(a)).tap(()=>e(v(r))):e(Object(c.b)(a)).tap(t=>{var n=t&&t.prefs?t.prefs:r;e(v(Object(o.a)(n,Object.keys(r))))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'user.prefs.set failed to update the prefs "'+Object.keys(r).join(", ")+'"'),e})});I.meta={name:"setMultipleUserPrefs",key:"fetchersPrefsApiSetMultipleUserPrefs",description:"Set multiple prefs via the setPref API"},I.propTypes={prefs:i.default.object};var w=Object(u.a)("Set a global notification pref via the users.prefs.setNotifications API",function(e,t){var{name:r,value:n,sync:a=!1,reason:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t(),u={method:"users.prefs.setNotifications",args:{name:r,value:n,global:!0,sync:a},reason:o};return Object(m.j)(i,"feature_offline_mode")?e(Object(l.a)(u)).tap(()=>{"global_keywords"===r&&e(v({highlight_words:n}))}):e(Object(c.b)(u)).tap(t=>{t&&t.all_notifications_prefs&&(e(v({all_notifications_prefs:JSON.stringify(t.all_notifications_prefs)})),"global_keywords"===r&&Object(s.a)(t.all_notifications_prefs,"global.global_keywords")&&e(v({highlight_words:t.all_notifications_prefs.global.global_keywords})))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.setNotifications failed to update the pref "'+r+'"'),e})});w.meta={name:"setNotificationsGlobalPref",key:"fetchersPrefsApiSetNotificationsGlobalPref",description:"Set a global notification pref via the users.prefs.setNotifications API"},w.propTypes={name:i.default.oneOf(["global_mobile","global_mpdm_mobile","global_desktop","global_mpdm_desktop","global_keywords","mobile_sound","desktop_sound","no_text_in_notifications","push_show_preview","push_idle_wait","threads_everything"]).isRequired,value:i.default.oneOfType([i.default.string,i.default.number,i.default.bool]).isRequired,sync:i.default.bool,reason:i.default.string};var j=Object(u.a)("Calls users.prefs.setNotifications endpoint",(e,t,r)=>{var{name:n,value:a,channelId:o,sync:s=!1,reason:i="users-prefs-set-notifications"}=r,d={method:"users.prefs.setNotifications",args:{name:n,value:a,channel_id:o,global:!1,sync:s},reason:i};return Object(m.j)(t(),"feature_offline_mode")?e(Object(l.a)(d)):e(Object(c.b)(d))});j.meta={name:"setNotificationsChannelOverride",key:"fetchersPrefsApiSetNotificationsChannelOverride",description:"Calls users.prefs.setNotifications endpoint"},j.propTypes={name:i.default.string.isRequired,value:i.default.any.isRequired,channelId:i.default.string.isRequired,sync:i.default.bool,reason:i.default.string}},"0QyR":function(e,t,r){"use strict";r.d(t,"b",function(){return ee}),r.d(t,"a",function(){return z});var n=r("rePB"),a=r("Ff2n"),o=r("9oTK"),s=r("3Hq1"),i=r("CpTu"),c=r("owWc"),l=r("1PKr"),d=r("Omjo"),u=r("Lg4S"),p=r("HDs8"),m=r("0oUp"),_=r("VL9c"),f=r("1j8a"),b=15e3,h=null,O=null,g=0,v=10,y=1e3;function I(){return O||(O=function e(){return Object(m.a)().catch(()=>g>v?Promise.reject(new Error("boot_exceeded_maximum_network_retries")):new Promise(t=>{clearTimeout(h),h=setTimeout(()=>{g+=1,t(e())},y)}))}().finally(()=>{clearTimeout(h),h=null,O=null})),O}function w(){var e,{maxTimePausedMs:t=b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={online:!0},n=()=>{r.online=!1,e=window.setTimeout(()=>{throw new Error("Boot queue paused for too long")},t)},a=()=>{r.online=!0,window.clearTimeout(e),e=void 0},o={apiQ:new p.a({isOnline:()=>r.online,reconnectClient:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),I().then(t).catch(()=>{throw new f.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})})({setOffline:n,setOnline:a}),reconnectService:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),Object(_.a)().then(t).catch(()=>{throw new f.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})})({setOffline:n,setOnline:a})}),q:function(){return o.apiQ&&o.apiQ.q(...arguments)},stop:()=>{o.apiQ.stop(),o.apiQ.clearStatsInterval(),delete o.apiQ,o.apiQ=void 0,window.clearTimeout(e),e=void 0}};return o}var j=r("Gogr"),S=r("VHGx"),P=1e3;var k=3456e5;var T=r("IbTH"),A=r("tYiI"),E=r("fujP"),D=r("HLHh"),C=r("4ULK"),R=r("nOCT"),N=r("s4P+"),L=r("UioL");function W(){return(W=Object(o.coroutine)(function*(){var e,t,{teamId:r,userId:n,forceAPI:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object(N.a)({teamId:r});if(a)return o.info("BOOT","Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),!1;if(function(e){var t=Object(N.a)({teamId:e}),r=Object(R.c)(),n=Object(j.e)(e,"versionDataTs");return t.info("BOOT","Minimum supported data version is "+r+"; currently on "+n),!n||n<r}(r))return o.info("BOOT","Skipping checking persisted store because if it exists it's out of date"),Object(C.a)(r),!1;if(!Object(D.a)())return o.info("BOOT","indexedDB is unavailable, not checking for a persisted store"),!1;try{e=yield Object(L.a)({teamId:r,userId:n})}catch(s){return o.error("BOOT","Unable to get get stored state from IndexedDB",s),!1}return!(t=e)||Object(E.a)(t.bootData)?(o.info("BOOT","Unable to find stored state"),!1):e})).apply(this,arguments)}var B=r("btH0"),M=r("Pw4T"),U=r("fitI"),F=r("jr0b"),x=r("+Sjy"),G=r("Yd+W");function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var H=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r("L6kU").a,{feature_classic_nav:!0,feature_global_nav:!1,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sonic_placeholder_labels:!0,feature_sonic_find_more_wksps:!0,feature_sonic_inputs:!0,feature_sonic_emoji:!0,feature_modern_profile_flexpane:!0,feature_sonic_pins:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0,feature_m11n_channel_details:!0,feature_modernize_channel_create_modal:!0,feature_sonic_esc_creation:!0});function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Y=e=>!(!e||!e.is_im),X=e=>!(!e||!e.is_mpim),J=e=>Y(e)&&e.user,Q=e=>X(e)&&e.members;function z(){return Z.apply(this,arguments)}function Z(){return(Z=Object(o.coroutine)(function*(){var e,{teamId:t,teamToken:r,userId:n,shouldSetFocus:a,routeInfo:o=null,forceAPI:s=!1,bootQueue:c=w(),bootedOffline:l,reason:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=yield function(){return W.apply(this,arguments)}({teamId:t,userId:n,forceAPI:s}),_=!!m;if(_&&((e=Object(j.c)("lastColdBootTs"))&&Date.now()-e>k)&&!l&&(yield S.b.fetch({url:"/api/api.test",timeout:P}).then(e=>{var{ok:t}=JSON.parse(e);return!0===t}).catch(e=>(Object(d.a)(e),!1)))&&(_=!1,Object(M.a)().count("sonic_boot_data_fetch_ignoring_persisted_cache")),_)return Object(d.b)("BOOT","("+t+") Booting with persisted store"),{isWarmBooting:!0,bootData:m};c.apiQ.assignApiCallThreshold(Object(u.c)(a));var f=[ae({bootQueue:c,token:r,teamId:t,reason:p,userId:n}),Object(T.f)({bootQueue:c,overrides:H,shouldFetchCached:!0,teamId:t,token:r}),Object(T.e)({bootQueue:c,shouldFetchCached:!0,teamId:t,token:r,userId:n})],b=o&&o.params&&o.params.entityId;!b||Object(B.a)(b)||Object(x.h)(b)||Object(A.a)(b)?Object(B.a)(b)||Object(x.h)(b)||Object(A.a)(b)||(Object(d.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),f.push($({bootQueue:c,token:r,teamId:t}))):(Object(d.b)("BOOT","Booting into channel: "+b),f.push($({bootQueue:c,token:r,teamId:t,id:b})));var h,[O,g,v,y]=yield Promise.all(f),{appHomesData:I,selfData:E,teamData:D,teamPrefsData:C,userPrefsData:R,userGroupMembershipData:N,channelsData:L,membersToFetch:U,paidFeatures:F,emojiBootData:K,slashCommandsBootData:q,acceptTosUrl:Y,channelsPrefsData:X,isEurope:J}=O,Q=(null==R?void 0:R.onboarding_state)>0,z=!1,Z=!1,ee=null,te=null,re=null;if(R&&!R.onboarding_complete&&!Q)if((null==g?void 0:g.feature_newxp_4101)&&"control"!==(null==v?void 0:null===(h=v.newxp_4090)||void 0===h?void 0:h.group)&&(re=yield Object(T.g)({bootQueue:c,token:r,teamId:t})),R.tractor_enabled){var ne=yield Object(T.m)({bootQueue:c,token:r,teamId:t});ee=Object(i.a)(ne,e=>"account_setup"===e.type&&"team_creation"===e.subtype);var oe=Math.min(...ne.map(e=>e.date_start).filter(e=>e>0));z=ne.length>0&&ne.filter(e=>e.state===G.e.Completed).length<ne.length&&(!oe||oe>Math.floor((Date.now()-6e5)/1e3))}else"none"!==R.welcome_place_state?"enabled"===R.welcome_place_state&&(Z=!0):R.seen_welcome_2||(Z=!0);R&&"enabled"===R.welcome_place_state&&!Q&&(te=yield Object(T.n)({bootQueue:c,token:r,teamId:t}));var se,ie,ce=document.documentElement,le={app:"client",api_token:r,user_id:E&&E.id,version_ts:ce&&ce.dataset?ce.dataset.versionTs:"unknown",version_uid:ce&&ce.dataset?ce.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:z,shouldStartJoinerOnboarding:Z,teamCreationWorkflow:ee,welcomePlaceOnboardingData:te,acceptTosUrl:Y,isEurope:J,onboardingData:re};if(le.should_reload=O.should_reload,le.client_min_version=O.client_min_version,O.should_reload)return{bootData:{miscBootData:le}};if(E&&E.enterprise_user){var de=Object(j.e)(t,"enterprise_api_token"),[ue,pe]=yield Promise.all([Object(T.c)({bootQueue:c,token:r,teamId:t}),Object(T.d)({bootQueue:c,token:de,teamId:t})]);le.enterprise_id=E.enterprise_user.enterprise_id,le.page_needs_enterprise=!0,le.enterprise_api_token=de,se=ue,ie=pe}if(y&&y.channelData){var me=L.findIndex(e=>e&&e.id===y.channelData.id);if(-1!==me){var _e=V({},L[me],{},y.channelData);L.splice(me,1,_e)}}return c.stop(),{isWarmBooting:!1,bootData:{appHomesData:I,channelsData:L,membersToFetch:U,teamData:D,viewData:y||null,selfData:E,featureFlagData:g,experimentsData:v,miscBootData:le,userPrefsData:R,teamPrefsData:C,userGroupMembershipData:N,enterpriseData:se,enterprisePrefsData:ie,paidFeatures:F,emojiBootData:K,slashCommandsBootData:q,channelsPrefsData:X}}})).apply(this,arguments)}function $(e){var{bootQueue:t,token:r,teamId:n,id:a=null}=e,o={token:r,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,no_members:!0,count:28};a&&(o.channel=a);var s=new l.b({method:"conversations.view",args:o,teamId:n});return t.q(s).then(e=>{var t=e.history.messages,r=e.channel||e.group||e.im,n=r&&r.id,a=e.history.channel_actions_count,o=Number.isInteger(a)?{channelId:n,count:a}:null;return{channelData:r,messagesData:{msgs:t,channelId:n,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:o}}).catch(e=>(Object(N.b)().error("BOOT","unable to fetch/format messages data",e),null))}function ee(e){var{team:t,subteams:r,self:n,prefs:o,app_homes:i,paid_features:l,emoji_cache_ts:d,commands_cache_ts:u,can_manage_shared_channels:p,accept_tos_url:m,channels_prefs:_,should_reload:f,client_min_version:b,is_europe:h}=e,O=Object(a.a)(e,["team","subteams","self","prefs","app_homes","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url","channels_prefs","should_reload","client_min_version","is_europe"]),g={};if(!Object(s.a)(f)&&(g.should_reload=f,g.client_min_version=b,f))return g;var v,y=V({},t.prefs,{can_user_manage_shared_channels:p}),I=[...r.self],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[...e.channels||[],...e.ims||[],...e.mpims||[]],r=[];if(t.length)for(var{last_read:n={},channels_priority:a={},starred:o=[],is_open:s=[],thread_only_channels:i=[],read_only_channels:c=[]}=e,l=new Set(o),d=new Set(s),u=new Set(i),p=new Set(c),m=t.length,_=0;_<m;_++){var f=t[_],b=f.id;f.latest="0000000000.000000",f.is_member=!0,f.last_read=n[b],f.priority=a[b],f.is_starred=l.has(b),Y(f)||X(f)?f.is_open=d.has(b):(f.is_thread_only=u.has(b),f.is_read_only=p.has(b)),r.push(f)}return r}(V({},O,{teamId:t.id})),j=(e.ims||[]).map(e=>J(e)),S=(v=e.mpims)?Object(c.a)(v,(e,t)=>{if(!t)return e;var r=Q(t)||[];return e.push(...r),e},[]):[];return g=V({},g,{selfData:n,teamData:t,teamPrefsData:y,userPrefsData:o,channelsData:w,appHomesData:i,membersToFetch:j.concat(S).filter((e,t,r)=>r.indexOf(e)===t),userGroupMembershipData:I,paidFeatures:l,emojiBootData:{cacheTs:d},slashCommandsBootData:{cacheTs:u},acceptTosUrl:m,channelsPrefsData:_,isEurope:h})}var te="cse-api",re="cse-boot-api",ne=1;function ae(e){var{bootQueue:t,token:r,teamId:n,reason:a,userId:o}=e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(U.a)(),n=r.createTrace({traceName:te,tags:t,sampleRate:ne});if(!n||!n.traceFn)return Object(N.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),e();return n.traceFn({name:re,onError:(e,t)=>{var a={state:F.a.ERROR};t.status&&(a.status=t.status);t.message&&(a.message=t.message);t.data&&t.data.error&&(a.reason=t.data.error);e.addTags(a),e.close(),r.reportTrace(n)},onResolve:()=>{r.clearTrace(n)}},e)}(T.b.bind(this,{bootQueue:t,token:r,teamId:n,reason:a}),{teamId:n,userId:o,reason:a}).then(ee)}},"0oUp":function(e,t,r){"use strict";var n=r("oTSI"),a=r("ifKl"),o=r("ZP0B");var s=r("VHGx"),i=r("iYuT"),c=r("Z7Ay"),l=r("rWF5"),d=r("afo6"),u="NETWORK-CONNECTIVITY",p=Object(n.a)(()=>new d.a({testConnectivity:j,logLabel:u})),m=()=>p().waitForConnectivity(),_=(t.a=m,0),f=!1,b=!1,h=1e3,O=h,g=["https://a.slack-edge.com/f70ec/img/test_cdn_pixel.gif","https://b.slack-edge.com/f70ec/img/test_cdn_pixel.gif"],v=99,y=10,I=0,w=0;function j(){var e=!f&&!b&&_&&_%y==0&&(Object(l.k)()||Object(l.l)());if(!1===navigator.onLine&&!(e||_%100===v)){_+=1;var t=new Error("Browser says we\u2019re offline");return t.retryAfter=O,t.totalRetryAttempts=_,Promise.reject(t)}var r=I-(Date.now()-w);if(r>0){var n=new Error("Waiting on CDN full backoff. Waiting an additional "+r+"ms");return n.retryAfter=r,n.totalRetryAttempts=_,Promise.reject(n)}return w=Date.now(),S().tap(()=>{!1===navigator.onLine&&e&&(b=!0,S().tap(()=>{if(!1===navigator.onLine){Object(i.g)(u,"navigator.onLine appears to be untrustworthy; enabling workaround."),f=!0;try{Object.defineProperty(navigator,"onLine",{get:()=>!0})}catch(e){}}}).catch(a.a)),Object(i.e)(u,"Successfully fetched resources from the CDN. We\u2019re online!"),_=0}).catch(e=>{var t=new Error("Failed to fetch resources from the CDN");return I=Object(o.a)(e.map(e=>{return e&&e.retryAfter||h})),_+=1,t.totalRetryAttempts=_,t.retryAfter=O,Promise.reject(t)})}function S(){return Promise.any(g.map(e=>e+"?q="+(Date.now()*Math.random()).toString(36)).map(e=>s.b.fetch({url:e})))}Object(c.a)("waitForNetworkConnection",m)},"1zgd":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("rWF5"),a=r("Yd+W"),o=e=>(e.subtype!==a.f.EnableNotifications||!Object(n.l)())&&!(e.subtype===a.f.DownloadDesktopApp&&!Object(n.j)())},"4c9C":function(e,t,r){"use strict";r.d(t,"b",function(){return S}),r.d(t,"f",function(){return P}),r.d(t,"g",function(){return k}),r.d(t,"d",function(){return T}),r.d(t,"e",function(){return A}),r.d(t,"a",function(){return E}),r.d(t,"c",function(){return D});var n=r("aK/h"),a=r("zgq7"),o=r("6jsb"),s=r("oTSI"),i=53,c=new Map,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=c.get(t);r||(r=new Map,c.set(t,r));var n=r.get(e);return n||(n=Symbol(e),r.set(e,n)),n};function d(e){for(var t=new Array(i),r=e,n=0,a=0;r>0;a++)n=r%2,t[a]=!!n,r=(r-n)/2;return t}function u(e){for(var t=0,r=1,n=0;n<i;n++)t+=(e[n]?1:0)*r,r*=2;return t}var p=Object(s.a)((e,t)=>{for(var r=d(e),n=d(t),a=new Array(i),o=0;o<i;o++)a[o]=r[o]&&n[o];return u(a)},l),m=Object(s.a)((e,t)=>{for(var r=d(e),n=d(t),a=new Array(i),o=0;o<i;o++)a[o]=r[o]||n[o];return u(a)},l),_=Object(s.a)(e=>{for(var t=new Array(i),r=e,n=0,a=0;a<i;a++)n=r%2,t[a]=!n,r=(r-n)/2;return u(t)}),f=Object.freeze([...Array(i).keys()].reduce((e,t)=>(e["MASK_"+(t+1)]=2**t,e),{})),b=r("IniL"),h=r("XL7r"),O=r("s0HP"),g=r("+cPl"),v=r("yhG8"),y=r("s4P+"),I=r("kcos"),w=e=>Object(h.k)(e,"onboarding_state")||0,j=e=>{switch(e){case"setup_started":return f.MASK_1;case"setup_completed":return f.MASK_2;case"setup_step_channels":return f.MASK_3;case"setup_step_invites":return f.MASK_4;case"setup_channel_header_shown":return f.MASK_5;case"setup_invite_step_skipped":return f.MASK_30;case"welcome_task_1_complete":return f.MASK_6;case"welcome_task_2_complete":return f.MASK_7;case"welcome_task_3_complete":return f.MASK_28;case"welcome_task_4_complete":return f.MASK_29;case"welcome_task_complete":return f.MASK_8;case"announcements_task_1_complete":return f.MASK_9;case"announcements_task_2_complete":return f.MASK_10;case"announcements_task_complete":return f.MASK_11;case"project_task_1_complete":return f.MASK_12;case"project_task_2_complete":return f.MASK_13;case"project_task_complete":return f.MASK_14;case"brainstorming_task_1_complete":return f.MASK_15;case"brainstorming_task_2_complete":return f.MASK_16;case"brainstorming_task_complete":return f.MASK_17;case"sync_task_1_complete":return f.MASK_18;case"sync_task_2_complete":return f.MASK_19;case"sync_task_complete":return f.MASK_20;case"team_task_1_complete":return f.MASK_21;case"team_task_2_complete":return f.MASK_22;case"team_task_complete":return f.MASK_23;case"dm_task_1_complete":return f.MASK_24;case"dm_task_2_complete":return f.MASK_25;case"dm_task_complete":return f.MASK_26;case"onboarding_completed":return f.MASK_27;case"people_task_complete":return f.MASK_31;case"files_task_complete":return f.MASK_32;case"generic_task_complete":return f.MASK_33;case"generic_task_1_complete":return f.MASK_34;case"generic_task_2_complete":return f.MASK_35;case"generic_task_3_complete":return f.MASK_36;case"apps_task_1_complete":return f.MASK_37;case"apps_task_complete":return f.MASK_38;default:return 0}},S=Object(a.b)((e,t)=>{var r=j(t),n=w(e);return!!p(n,r)});S.meta={name:"getUserOnboardingPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetUserOnboardingPref"};var P=Object(o.b)("Set onboarding state pref from push event",(e,t,r)=>{r>w(t())&&e(Object(O.b)({pref:"onboarding_state",value:r}))});P.meta={name:"setOnboardingStatePref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetOnboardingStatePref",description:"Set onboarding state pref from push event"},P.propTypes=n.default.number;var k=Object(o.b)("Set a derived boolean pref via the setPref API, updating local prefs optimistically first",function(e,t){var{pref:r,value:n,retry:a=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a>2)return Promise.resolve();var o=((e,t,r)=>{var n=j(t),a=w(e);return r?m(a,n):p(a,_(n))})(t(),r,n),s={pref:"onboarding_state",value:o},i=Object(y.a)({getState:t,label:"USER_ONBOARDING"});return i.info("Applied "+r+": "+!!n+" to onboarding_state: "+o),a&&i.error("Applied "+r+": "+!!n+" to onboarding_state: "+o+", retry "+a),e(Object(O.b)(s)),e(Object(g.f)(s)).catch(()=>e(k({pref:r,value:n,retry:a+1})))});k.meta={name:"setUserOnboardingPrefByApi",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetUserOnboardingPrefByApi",description:"Set a derived boolean pref via the setPref API, updating local prefs optimistically first"},k.propTypes={pref:n.default.string.isRequired,value:n.default.any};var T=Object(a.b)(e=>Object(I.k)(e)&&Object(b.j)(e,"feature_setup_page_i18n")&&S(e,"setup_started")&&!S(e,"onboarding_completed"));T.meta={name:"inUserOnboardingExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperiment"};var A=Object(a.b)(e=>T(e)&&Object(b.j)(e,"feature_setup_page_i18n_two"));A.meta={name:"inUserOnboardingExperimentTwo",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperimentTwo"};var E=Object(a.b)((e,t,r)=>{var n,a=[...Object.values(v.e),v.c.GENERIC];if(t&&a.includes(t)&&(n=t+"_task_complete"),r&&"P"===r[0]){var o={PEOPLE:"Pbrowse-people",FILES:"Pbrowse-files",APPS:"Papps"};switch(r){case o.PEOPLE:n="people_task_complete";break;case o.FILES:n="files_task_complete";break;case o.APPS:n="apps_task_complete";break;default:return!0}}return S(e,n)});E.meta={name:"getChannelBannerPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetChannelBannerPref"};var D=Object(a.b)(e=>["welcome","team","project","brainstorming","announcements","sync","dm","people","files","generic","apps"].some(t=>S(e,t+"_task_complete")));D.meta={name:"hasCompletedTask",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedTask"}},"4v0o":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},"8Fba":function(e,t,r){"use strict";r.d(t,"h",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"e",function(){return o}),r.d(t,"f",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"m",function(){return l}),r.d(t,"n",function(){return d}),r.d(t,"j",function(){return u}),r.d(t,"l",function(){return p}),r.d(t,"k",function(){return m}),r.d(t,"o",function(){return _}),r.d(t,"c",function(){return f}),r.d(t,"i",function(){return b}),r.d(t,"g",function(){return h});var n={CHECKOUT_CALCULATOR_FOOTER:"checkout_calculator_footer",CHECKOUT_HEADER:"checkout_header",SIDEBAR_FOOTER:"sidebar_footer",TEAM_MENU_VISUAL_PROMO:"team_menu_visual_promo",TEAM_MENU_TEXT_PROMO:"team_menu_text_promo",MESSAGE_PANE:"message_pane",DUNNING_NOTICE:"dunning_notice",IN_PRODUCT_COACHMARK:"in_product_coachmark",LAUNCH_MODAL:"launch_modal",WELCOME_PLACE:"welcome_place",MESSAGE_ACTIONS:"message_actions"},a={DUNNING_DAY_1_BANNER:"dunning_day_1_banner",DUNNING_DAY_3_BANNER:"dunning_day_3_banner",DUNNING_DAY_7_OWNER_CARDHOLDER_BANNER:"dunning_day_7_owner_cardholder_banner",DUNNING_DAY_7_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_7_admin_billing_contacts_banner",DUNNING_DAY_14_OWNER_CARDHOLDER_BANNER:"dunning_day_14_owner_cardholder_banner",DUNNING_DAY_14_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_14_admin_billing_contacts_banner",DUNNING_DAY_21_BILLING_STAKEHOLDERS_BANNER:"dunning_day_21_billing_stakeholders_banner",DUNNING_DAY_21_ALL_USERS_BANNER:"dunning_day_21_all_users_banner"},o={REACTJI_AWARENESS_COACHMARK:"reactji_awareness_coachmark",MENTION_AWARENESS_INLINE_TIP:"mention_awareness_inline_tip"},s={TRIAL_LAST_DAY_MODAL:"trial_last_day_modal",TRIAL_DOWNGRADE_SURVEY:"trial_downgrade_survey"},i={PARTNER_PROMO:"partner_promo_checkout_calculator_footer"},c={DISCOUNT_PROMO:"discount_promo_with_existing_discount",DUNNING_CLEARED:"dunning_cleared_banner"},l={PLAN_INFO:"plan_info",TRIAL_INFO:"trial_info",DISCOUNT_PROMO:"discount_promo"},d={LIMIT_METER:"limit_meter"},u={JAPAN_SEND_BUTTON:"i18n_japan_beta_send_btn_banner",TENURED_TEAM_DISCOUNT_ONE_WEEK_LEFT:"one_week_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_ONE_DAY_LEFT:"one_day_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_AWARENESS:"tenured_discount_awareness_banner",EDUCATION_TEAM_DISCOUNT:"education_discount_promo_banner",LOCAL_DISCOUNT_AWARENESS:"local_discount_awareness_banner",ESC_TRIAL:"shared_channel_trial_banner",ESC_TRIAL_TWO_WEEKS_LEFT:"two_weeks_left_esc_trial_banner",ESC_TRIAL_ONE_WEEK_LEFT:"one_week_left_esc_trial_banner",ESC_TRIAL_THREE_DAYS_LEFT:"three_days_left_esc_trial_banner",TRIAL_SEVEN_DAYS_LEFT:"seven_days_left_trial_banner",TRIAL_THREE_DAYS_LEFT:"three_days_left_trial_banner",FILE_LIMIT_APPROACHING:"approaching_file_limit_banner",MESSAGE_LIMIT_ACTIVATION:"activation_msg_limit_banner",MESSAGE_LIMIT_APPROACHING:"approaching_msg_limit_banner",MESSAGE_LIMIT_JUST_REACHED:"just_reached_msg_limit_banner",MESSAGE_LIMIT_THIRTY_DAYS_AFTER:"thirty_days_after_msg_limit_banner",TEAM_CREATION_ACCOUNT_SETUP:"team_creation_account_setup_banner",PARTNER_PROMO:"partner_promo_BANNER",IN_PRODUCT_TRIAL:"in_prod_trial_banner",IN_PRODUCT_TRIAL_REMINDER:"in_prod_trial_reminder_banner"},p={SIDEBAR_BENEFITS_TAB:"sidebar_benefits_tab",SIDEBAR_UPGRADE_BUTTON:"sidebar_upgrade_button",SIDEBAR_ONBOARDING_INVITE_PROMPT:"sidebar_onboarding_invite_prompt",SIDEBAR_NOTIFICATION_SETTINGS_PROMPT:"sidebar_notification_settings_prompt",SIDEBAR_DOWNLOAD_APP_PROMPT:"sidebar_download_app_prompt"},m={BENEFITS_PAGE:"benefits_page"},_={REMOTE_WORK_BANNER:"remote_work_banner"},f={discountPct:"discountPercent",noOfDaysLeft:"numDaysLeft",payDateNext:"expirationDate",planExpirationTs:"expirationTs",subtype:"promoSubType",renewalLevel:"planRenewalLevel"},b={QUICK_REACTIONS:"quick_reactions"},h="MEGAPHONE"},"9svP":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("Jnq/");function a(e,t,r){var a=e*Object(n.a)(t,r,!0);return Math.ceil(e+a)}},AjwY:function(e,t,r){"use strict";r.d(t,"i",function(){return a}),r.d(t,"h",function(){return o}),r.d(t,"g",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"f",function(){return d}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"d",function(){return m}),r.d(t,"c",function(){return _}),r.d(t,"j",function(){return f}),r.d(t,"l",function(){return b}),r.d(t,"m",function(){return h}),r.d(t,"n",function(){return g}),r.d(t,"k",function(){return v});var n=r("fujP"),a=(new(r("nNoG").b)("pricing_plans"),{vat:"vat",sales_tax:"sales_tax",abn:"abn",jct:"jct",qst:"qst",sst:"sst",gst:"gst"}),o={monthly:"monthly",yearly:"yearly"},s=1,i=12,c={standard:{id:"std",name:"standard"},plus:{id:"plus",name:"plus"},compliance:{id:"compliance",name:"compliance"},enterprise:{id:"enterprise",name:"enterprise"}},l={CREDIT_CARD:"creditCard",INVOICE:"invoice",ACH:"ach"},d=Object.values(l),u="checkout/router",p={PAID:"paid",FREE:"free"},m={LOCAL:"local_discount",TENURED_TEAM:"tenured_teams_discount",EDUCATION:"educational",NONPROFIT:"nonprofit",WFH_BUNDLE:"wfhbundle"},_={BRAZIL:"real",INDIA:"rupee",V2:"v2"},f={PAID:"paid",FREE_NO_TRIAL:"free_no_trial",FREE_EXPIRED_TRIAL:"free_expired_trial",IN_TRIAL:"in_trial"},b=function(){var{planLevel:e,entryPoint:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="/plans";return e&&(e===c.standard.id?r+="/"+c.standard.name:e===c.plus.id&&(r+="/"+c.plus.name)),t&&(r+="?entry_point="+t),r},h=e=>{var t=(e=>{var t={};if(!Object(n.a)(e.tax)){var r=a.sales_tax;e.tax.tax_name?r=a[e.tax.tax_name.toLowerCase()]||a.sales_tax:e.tax.is_vat&&(r=a.vat),t={value:e.tax.sales_tax_amt,type:r,percentage:e.tax.tax_percentage||0}}return t})(e),r=e.credits?{currentCredits:e.credits.total_credits,creditsRemaining:e.credits.credits_remaining,creditsApplied:e.credits.credits_applied,proratedRefundCredits:e.prorated_refund,totalCreditsRemaining:e.credits.total_credits_remaining||0,totalCreditsApplied:e.credits.total_credits_applied||0}:{},o=e.billable_users?{billableActiveUsers:e.billable_users.billable_active_users,inactiveUsers:e.billable_users.inactive_users,zeroActiveUsers:e.billable_users.zero_active_users}:{},s=e.discount?{name:e.discount.name,amount:e.discount.amount,percentage:e.discount.percentage}:{};return{activePlanCost:{id:e.product_id,subtotal:e.subtotal,undiscountedSubtotal:e.undiscounted_subtotal,billableUsers:o,discount:s,tax:t,credits:r,totalRecurring:e.total_recurring,totalRecurringTax:e.recurring_tax_amt,totalDueToday:e.total_due_today,quotedTermEnd:e.quoted_term_end,paidSeats:e.paid_seats}}},O=e=>{var t="12m"===e.term?o.yearly:o.monthly,r="12m"===e.term?i:s;return{id:e.product_id,term:t,currency:e.currency,level:e.level,lengthOfTermInMonths:r,costPerMonth:e.cost_per_m,costPerTerm:e.cost_per_term,isInvoice:e.is_inv||!1,maxInvoiceSeats:e.max_invoice_seats,minInvoiceSeats:e.min_invoice_seats}},g=e=>{var t={};return Object.keys(e).forEach(r=>{var n=e[r];t[r]={[c.standard.id]:{[l.CREDIT_CARD]:{[o.monthly]:O(n.std_m),[o.yearly]:O(n.std_y)},[l.INVOICE]:{[o.yearly]:O(n.inv_std_y)}},[c.plus.id]:{[l.CREDIT_CARD]:{[o.monthly]:O(n.plus_m),[o.yearly]:O(n.plus_y)},[l.INVOICE]:{[o.yearly]:O(n.inv_plus_y)}},[c.compliance.id]:{[l.CREDIT_CARD]:{[o.yearly]:O(n.compliance_y)},[l.INVOICE]:{[o.yearly]:O(n.inv_compliance_y)}}}}),{availablePlans:t}},v=(e,t,r,n)=>{var{country:a,region:o,street:s,postalCode:i,isBusinessPurchase:c}=t;return[e,a,o,s,i,c,r,n].join("-")}},CXkB:function(e,t,r){"use strict";r.d(t,"d",function(){return l}),r.d(t,"e",function(){return d}),r.d(t,"f",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"a",function(){return m}),r.d(t,"c",function(){return _});var n=r("zgq7"),a=r("AjwY"),o=r("N4J5"),s=r("XL7r"),i=r("8Fba"),c=Object(n.b)((e,t)=>{var r;return(null==e?void 0:null===(r=e.megaphoneNotification)||void 0===r?void 0:r[t])||{}});c.meta={name:"selectMegaphoneNotification",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotification"};var l=Object(n.b)((e,t)=>c(e,t).notificationData||{});l.meta={name:"selectMegaphoneNotificationData",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationData"};var d=Object(n.b)((e,t)=>c(e,t).notificationName||null);d.meta={name:"selectMegaphoneNotificationName",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationName"};var u=Object(n.b)(e=>{var{planRenewalLevel:t,trialExpirationDate:r}=l(e,i.h.SIDEBAR_FOOTER);return t?a.j.PAID:r&&"0000-00-00"!==r?Object(o.a)(r)<=0?a.j.FREE_EXPIRED_TRIAL:a.j.IN_TRIAL:a.j.FREE_NO_TRIAL});u.meta={name:"selectTeamTrialState",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectTeamTrialState"};var p=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.hasSeenReactionTooltipThisSession)||!1});p.meta={name:"hasSeenReactionTooltipThisSession",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsHasSeenReactionTooltipThisSession"};var m=Object(n.b)(e=>{var t=Object(s.k)(e,"growth_all_banners_prefs");return(t=t?JSON.parse(t):{}).shared_channel_trial_banner_cta_last_ts||0});m.meta={name:"getSharedChannelTrialBannerCtaLastTs",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsGetSharedChannelTrialBannerCtaLastTs"};var _=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.megaphoneDataFetched)||!1});_.meta={name:"selectIsMegaphoneNotificationDataLoaded",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectIsMegaphoneNotificationDataLoaded"}},CnUw:function(e,t,r){"use strict";r.d(t,"c",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"b",function(){return d}),r.d(t,"a",function(){return u}),r.d(t,"e",function(){return p});var n=r("8Fba"),a=r("CXkB"),o=r("N4J5"),s=r("AjwY"),i=e=>Object(a.e)(e,n.h.SIDEBAR_FOOTER)===n.l.SIDEBAR_BENEFITS_TAB,c=e=>{var t=Object(a.f)(e),{trialStartDate:r}=Object(a.d)(e,n.h.SIDEBAR_FOOTER);return t===s.j.IN_TRIAL&&0===-Object(o.a)(r)},l=e=>{var{hasSeenBenefitsTab:t}=Object(a.d)(e,n.h.SIDEBAR_FOOTER);return!t&&c(e)},d=e=>{if(!i(e))return!1;if(l(e))return!0;var t=!1;if(Object(a.f)(e)===s.j.IN_TRIAL){var{trialExpirationDate:r}=Object(a.d)(e,n.h.SIDEBAR_FOOTER),c=Object(o.a)(r);1!==c&&2!==c||(t=!0)}return t},u=e=>i(e)&&Object(a.f)(e)===s.j.IN_TRIAL,p=e=>{var t=Object(a.f)(e);return i(e)&&(t===s.j.PAID||t===s.j.FREE_EXPIRED_TRIAL)}},D6w7:function(e,t,r){"use strict";r.d(t,"c",function(){return f}),r.d(t,"a",function(){return b}),r.d(t,"b",function(){return h}),r.d(t,"d",function(){return g}),r.d(t,"e",function(){return v});var n=r("rePB"),a=r("Z0Cl"),o=r("7EGn"),s=r("zmn3"),i=r("pHS2"),c=r("OZf9"),l=r("wd/R"),d=r.n(l),u=r("zgq7"),p=r("HBMi"),m=r("quKg");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var f=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions&&e.inbox.stars&&e.inbox.reminders&&function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.inbox.mentions,{},e.inbox.stars,{},e.inbox.reminders),r=Object(o.a)(e,"inbox.archives",{mentions:[],stars:[],reminders:[]}),a=Object(o.a)(e,"inbox.reads",{mentions:[],stars:[],reminders:[]});Object(c.a)(t,e=>{t[e.id]&&(t[e.id].archived=!1,t[e.id].read=!1,r.mentions&&r.mentions.includes(e.id)&&(t[e.id].archived=!0),r.stars&&r.stars.includes(e.id)&&(t[e.id].archived=!0),a.mentions&&a.mentions.includes(e.id)&&(t[e.id].read=!0),a.stars&&a.stars.includes(e.id)&&(t[e.id].read=!0)),t[e.reminderId]&&(t[e.reminderId].archived=!1,t[e.reminderId].read=!1,r.reminders&&r.reminders.includes(e.reminderId)&&(t[e.reminderId].archived=!0),a.reminders&&a.reminders.includes(e.reminderId)&&(t[e.reminderId].read=!0))});var l=Object.keys(t).sort().reverse(),u={};Object(c.a)(l,e=>{u[e]=t[e]});var m=Object(i.a)(u,e=>d()(Object(p.a)(e.id)).startOf("day")),f={};return Object.keys(m).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).forEach(e=>{f[e]=m[e]}),Object(s.a)(f,e=>e)});f.meta={name:"getInboxItems",key:"inboxStoreInboxSelectorsGetInboxItems"};var b=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions;return Object(a.a)(t,e=>null===e.subtype)});b.meta={name:"getInboxChannelMentions",key:"inboxStoreInboxSelectorsGetInboxChannelMentions"};var h=Object(u.b)(e=>e&&e.inbox&&e.inbox.cursorMarks||{});h.meta={name:"getInboxCursorMarks",key:"inboxStoreInboxSelectorsGetInboxCursorMarks"};var O={mentions:[],stars:[],reminders:[]},g=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.reads||O,r=e&&e.inbox&&e.inbox.archives||O,n=[...new Set((t.mentions||[]).concat(r.mentions||[]))],a=[...new Set((t.stars||[]).concat(r.stars||[]))],o=[...new Set((t.reminders||[]).concat(r.reminders||[]))];return Object.keys(e.inbox.mentions).some(e=>!n.includes(e))||Object.keys(e.inbox.stars).some(e=>!a.includes(e))||Object.keys(e.inbox.reminders).some(e=>!o.includes(e))});g.meta={name:"isHomePageLinkBold",key:"inboxStoreInboxSelectorsIsHomePageLinkBold"};var v=Object(u.b)(e=>Object(m.c)(e,"inbox"));v.meta={name:"isInboxEnabled",key:"inboxStoreInboxSelectorsIsInboxEnabled"}},Er5K:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o});var n=["about","space","tasks"],a=["app","about","settings"];function o(e){return-1!==n.indexOf(e)||-1!==a.indexOf(e)||0===e.indexOf("embed")}},HBMi:function(e,t,r){"use strict";var n=r("RjUC"),a=r("XxnT");t.a=function(e){var t,{parseFormat:r="unix",returnMoment:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object(a.a)(),i="unix"!==r;return a.a.isMoment(e)?o?e:Object(a.a)(e).toDate():Object(n.a)(e)?o?Object(a.a)(e.getTime()):e:(i&&"string"==typeof e&&(t=e),i||"string"!=typeof e&&"number"!=typeof e||(t="string"==typeof e?parseFloat(e):e),i&&(s=Object(a.a)(t,r)),i||"number"!=typeof t||(s=t.toString().split(".")[0].length>11?Object(a.a)(t):a.a.unix(t)),o?s:Object(a.a)(s).toDate())}},HuaI:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",function(){return s}),r.d(t,"addWorkspace",function(){return i}),r.d(t,"updateWorkspaceMeta",function(){return c}),r.d(t,"internalSetFocusedWorkspace",function(){return l}),r.d(t,"internalRemoveWorkspace",function(){return d}),r.d(t,"internalWorkspacesRemoved",function(){return u}),r.d(t,"internalRemoveWorkspaceType",function(){return p}),r.d(t,"internalSetFocusedWorkspaceType",function(){return m}),r.d(t,"internalWorkspacesRemovedType",function(){return _}),r.d(t,"setWorkspaceOrder",function(){return f}),r.d(t,"setWorkspaceBooted",function(){return b}),r.d(t,"setDidBootAllWorkspaces",function(){return h}),r.d(t,"setWorkspaceFailedToBoot",function(){return O}),r.d(t,"setWorkspaceIsMigrating",function(){return g}),r.d(t,"setWorkspaceMigrationIsComplete",function(){return v}),r.d(t,"setWorkspaceIsAccessLimited",function(){return y}),r.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return I});var n=r("aK/h"),a=r("A2B7"),o=r("Z7Ay"),s=Object(a.b)("Initializes the store and sets the initial focused workspace ID");s.meta={name:"initialize",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInitialize",description:"Initializes the store and sets the initial focused workspace ID"},s.propTypes=n.default.object.isRequired;var i=Object(a.b)("Adds a new workspace to the store (but does not boot it)");i.meta={name:"addWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsAddWorkspace",description:"Adds a new workspace to the store (but does not boot it)"},i.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var c=Object(a.b)("Updates the metadata associated with a given workspace");c.meta={name:"updateWorkspaceMeta",key:"appSonicReduxWorkspacesStoreWorkspacesActionsUpdateWorkspaceMeta",description:"Updates the metadata associated with a given workspace"},c.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var l=Object(a.b)("Actually focus a workspace");l.meta={name:"internalSetFocusedWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalSetFocusedWorkspace",description:"Actually focus a workspace"},l.propTypes=n.default.string.isRequired;var d=Object(a.b)("Removes a workspace from the store");d.meta={name:"internalRemoveWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalRemoveWorkspace",description:"Removes a workspace from the store"},d.propTypes=n.default.string.isRequired;var u=Object(a.b)("Signals that a workspace has been removed");u.meta={name:"internalWorkspacesRemoved",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalWorkspacesRemoved",description:"Signals that a workspace has been removed"},u.propTypes=n.default.arrayOf(n.default.string).isRequired;var p=d.getType(),m=l.getType(),_=u.getType(),f=Object(a.b)("Sets the order of workspaces for display");f.meta={name:"setWorkspaceOrder",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceOrder",description:"Sets the order of workspaces for display"},f.propTypes=n.default.arrayOf(n.default.string).isRequired;var b=Object(a.b)("Sets the workspace booted state");b.meta={name:"setWorkspaceBooted",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceBooted",description:"Sets the workspace booted state"},b.propTypes=n.default.string.isRequired;var h=Object(a.b)("Indicates that we have completed (or attempted) boot for all known workspaces");h.meta={name:"setDidBootAllWorkspaces",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetDidBootAllWorkspaces",description:"Indicates that we have completed (or attempted) boot for all known workspaces"},h.propTypes=null;var O=Object(a.b)("Sets the workspace failed to boot state");O.meta={name:"setWorkspaceFailedToBoot",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceFailedToBoot",description:"Sets the workspace failed to boot state"},O.propTypes=n.default.string.isRequired;var g=Object(a.b)("Indicates that the given workspace is in the middle of an org migration");g.meta={name:"setWorkspaceIsMigrating",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsMigrating",description:"Indicates that the given workspace is in the middle of an org migration"},g.propTypes=n.default.string.isRequired;var v=Object(a.b)("Indicates that the given workspace has completed migrating to an org");v.meta={name:"setWorkspaceMigrationIsComplete",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceMigrationIsComplete",description:"Indicates that the given workspace has completed migrating to an org"},v.propTypes=n.default.string.isRequired;var y=Object(a.b)("Indicates that the given workspace has its access limited on this network");y.meta={name:"setWorkspaceIsAccessLimited",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsAccessLimited",description:"Indicates that the given workspace has its access limited on this network"},y.propTypes=n.default.string.isRequired;var I=Object(a.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");I.meta={name:"setWillNavigateToUnbootedWorkspaceId",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWillNavigateToUnbootedWorkspaceId",description:"Sets the workspace clicked on from sidebar while workspace is still booting."},I.propTypes=n.default.string,Object(o.a)("workspacesStoreActions",{setWorkspaceOrder:f,setWorkspaceBooted:b})},Lg4S:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o});var n=10,a=1;function o(e){return e?n:a}},N4J5:function(e,t,r){"use strict";var n=r("wd/R"),a=r.n(n);t.a=(e=>e&&"0000-00-00"!==e?a()(e).diff(a()().startOf("day"),"days"):null)},POHe:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=new Map},"Qe/g":function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return c});var n,a=r("quKg"),o=r("Smdl"),s=r("cewN");function i(e){return"treatment"===Object(a.c)(e,"mwc")&&Object(o.a)()}function c(){if(!Object(o.a)())return!1;if(void 0===n){var e=Object(s.d)(location.search);n=!!e.channel_popout}return n}},Qtvm:function(e,t,r){"use strict";r.d(t,"c",function(){return d}),r.d(t,"a",function(){return u});var n=r("rePB"),a=r("aK/h"),o=r("A2B7"),s=r("MNvw"),i=r("zgq7");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=Object(o.b)("Persists a request payload by key");d.meta={name:"persistApiCallPayload",key:"persistedApiCallsStorePersistApiCallPayload",description:"Persists a request payload by key"},d.propTypes={persistKey:a.default.string,payload:a.default.object};var u=Object(o.b)("Clears the persisted apiCall payload at the key");u.meta={name:"clearApiCallPayload",key:"persistedApiCallsStoreClearApiCallPayload",description:"Clears the persisted apiCall payload at the key"},u.propTypes={persistKey:a.default.string};var p=Object(s.b)({[d]:function(e){var{persistKey:t,payload:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l({},e,{[t]:l({},r,{persistKey:t})})},[u]:(e,t)=>{var r=l({},e);return delete r[t],r}},{},{storeKey:"persistedApiCalls",persistenceEnabled:!0,persistImmediately:!0});p.meta={name:"persistedApiCalls",key:"persistedApiCallsStorePersistedApiCalls"},p.propTypes=a.default.object,t.b=p,Object(i.b)(e=>e&&e.persistedApiCalls).meta={name:"getPersistedApiCalls",key:"persistedApiCallsStoreGetPersistedApiCalls"}},UioL:function(e,t,r){"use strict";var n=r("rePB"),a=r("fujP"),o=r("Dn8e"),s=r("kymL"),i=r("JtEI"),c=r("Z0v/"),l=r("Gogr"),d=r("eK5+"),u=r("Pw4T");var p=r("9svP"),m=r("s4P+"),_=r("cewN");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var b=Object(d.a)(10),h=c.h+"_get_stored_state_from_idb_mark_"+c.i,O=c.h+"_get_stored_state_from_idb_success_"+c.i,g=c.h+"_get_stored_state_from_idb_failure_"+c.i,v=window.location.href.split("?",2)[1],y=Object(_.d)(v),I=Object(d.a)(1)||y.force_store_measurement,w=["channels","emoji","files","members","messages"],j=!1;t.a=function(){var{teamId:e,userId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(m.a)({teamId:e}),d=Object(u.a)();b&&d.mark(h),r.info(c.D,"Getting state from IndexedDB");var _=Object(l.e)(e,"enterprise_id");return Promise.map([e,_],e=>{if(!e)return Promise.resolve({});var r="persist:"+Object(c.F)({appName:Object(i.c)(),teamId:e,userId:t});return s.a.get(r)},{concurrency:2}).spread(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||Object(a.a)(e))return b&&d.clearMarks(h),r.info(c.D,"No state found in IndexedDB"),!1;var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{},t);return b&&(d.measureAndClear(h),d.count(O)),r.info(c.D,"Successfully got state from IndexedDB"),I&&!j&&(j=!0,w.forEach((e,t)=>{var n=10*(t+1)*1e3,a=Object(p.a)(n,-.25,.25);Object(o.a)(()=>{var t=function(e){try{return JSON.stringify(e).length}catch(t){return null}}(s[e]);null!==t&&(d.store("redux_size_of_store_"+e+"_bytes",t),r.info(c.D,"[STORE-SIZES]","state."+e+" is approximately "+t+" bytes"))},a)})),s}).catch(e=>(b&&(d.clearMarks(h),d.count(g)),r.error(c.D,"Error calling persistDB.get in getStoredStateFromIdb",e),!1))}},UjNr:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r("Ff2n"),a=r("fp5s"),o=r("ifKl"),s=r("2XU3"),i=r("aK/h"),c=r("6jsb"),l=r("Qtvm"),d=r("gIpc"),u=["stars.add","stars.remove","reactions.add","reactions.remove","chat.deleteAttachment","conversations.mark","conversations.leave","users.prefs.set","users.prefs.setNotifications","subscriptions.thread.add","subscriptions.thread.remove","unread.markRead","users.profile.set"];var p=Object(c.b)("Dispatch an API call that can be persisted",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{persistKey:i}=r,c=Object(n.a)(r,["persistKey"]),{method:p}=c;if(!function(e){return u.includes(e)}(p))throw new Error("This method is not in the `offline-persist-methods` manifest and cannot be persisted. Make sure the calling code is not relying on a response before adding it to the manifest.");var m=i||Object(a.a)(Date.now()+"-"+p+"-");return e(Object(l.c)({persistKey:m,payload:c})),e(Object(d.a)()).then(()=>e(Object(s.a)(c))).catch(o.a).finally(()=>e(Object(l.a)(m))),Promise.resolve()});p.meta={name:"apiCallPersisted",key:"infraApiApiCallPersistedApiCallPersisted",description:"Dispatch an API call that can be persisted"},p.propTypes={method:i.default.string,args:i.default.object,defaultArgs:i.default.object,reason:i.default.string,EXPEDITED:i.default.bool,SET_ACTIVE:i.default.bool,persistKey:i.default.string}},V6fv:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=/^p?(\d{10})\.?(\d{6})$/;function a(e){return e&&n.test(e)?e.replace(n,"$1.$2"):null}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e?a(String((+e/1e3).toFixed(6))):null}},VL9c:function(e,t,r){"use strict";var n=r("oTSI"),a=r("iYuT"),o=r("Z7Ay"),s=r("rhGu"),i=r("eK5+"),c=r("Pw4T"),l=r("MFhL"),d=r("Smdl"),u=r("afo6"),p="API-CONNECTIVITY",m=Object(i.a)(100),_=Object(n.a)(()=>new u.a({testConnectivity:v,logLabel:p,metricsLabel:"api",shouldCollectConnectivityMetrics:m})),f=()=>_().waitForConnectivity();t.a=f;var b=0,h=1e3,O=()=>{var e={_x_reason:"api_connectivity_test"};Object(d.a)()&&(e._x_sonic=!0);var t=Object(l.a)(e);return new s.a({url:"https://www.slack.com/api/api.test",maxRetryAfter:6e4,payload:t}).send()},g=O;function v(){return Object(a.e)(p,"Testing API connectivity..."),g().tap(()=>{m&&b&&Object(c.a)().count("cm_api_connected_with_retries",b),Object(a.e)(p,"Successfully fetched from api.test. Onward!"),b=0}).catch(e=>{Object(a.e)(p,"Failed to fetch from api.test "+e+".");var t=new Error("Failed to fetch from api.test");return t.retryAfter=e.retryAfter||h,b+=1,t.totalRetryAttempts=b,Promise.reject(t)})}Object(o.a)("waitForApiConnection",f),Object(o.a)("mockServiceDisconnection",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42,t=0;g=(()=>(t+=1)===e?(t=0,g=O,Promise.resolve()):Promise.reject(new Error("Shhhh... we\u2019re pretending to have a bad time."))),window.slackDebug.activeTeam.api.q.debugServiceDisconnect()})},"Yd+W":function(e,t,r){"use strict";var n,a,o,s,i,c,l;r.d(t,"e",function(){return n}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return l}),function(e){e.Pending="pending",e.InProgress="in_progress",e.Completed="completed"}(n||(n={})),function(e){e.SeeWelcomePlace="see_welcome_place",e.SendMessage="send_message",e.JoinChannel="join_channel",e.EnableNotifications="enable_notifications",e.DownloadDesktopApp="download_desktop_app",e.AddAppFileManagement="add_app_file_management",e.AddProfilePhoto="add_profile_photo",e.InviteUsers="invite_users",e.WelcomeMessage="welcome_message",e.AccountSetup="account_setup"}(a||(a={})),function(e){e.Creator="creator_onboarding",e.Joiner="joiner_onboarding"}(o||(o={})),function(e){e.Unknown="unknown",e.Direct="direct",e.Sidebar="sidebar",e.History="history"}(s||(s={})),function(e){e.Gdrive="gdrive",e.OneDrive="onedrive",e.Unknown="unknown"}(i||(i={})),function(e){e.CHANNEL="channel",e.BROWSE="browse"}(c||(c={})),function(e){e.Creator="creator",e.Joiner="joiner"}(l||(l={}))},YjHT:function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return m}),r.d(t,"e",function(){return _}),r.d(t,"j",function(){return f}),r.d(t,"i",function(){return b}),r.d(t,"k",function(){return h}),r.d(t,"f",function(){return v}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return I});var n=r("rePB"),a=r("aK/h"),o=r("A2B7"),s=r("MNvw"),i=r("zgq7"),c=r("V6fv");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u="error",p="has_more",m="timestamp_too_old",_=Object(o.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");_.meta={name:"eventlogGapDetected",key:"consistencyStoreEventlogGapDetected",description:"Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)"},_.propTypes={reason:a.default.oneOf([u,p,m])};var f=Object(o.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");f.meta={name:"setLastKnownEventTimestamp",key:"consistencyStoreSetLastKnownEventTimestamp",description:"Store the event_ts of the last rtm message we processed prior to losing our connection"},f.propTypes=a.default.string;var b=Object(o.b)("Set a value that represents whether we are currently in the boot phase");b.meta={name:"setBootInFlight",key:"consistencyStoreSetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"},b.propTypes=a.default.bool;var h=Object(o.b)("Set a value that represents whether we are currently performing a warm boot");h.meta={name:"setWarmBootInFlight",key:"consistencyStoreSetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"},h.propTypes=a.default.bool;var O={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},g=Object(s.b)({[_]:e=>d({},e,{eventlogGapCount:e.eventlogGapCount+1}),[f]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(c.b)();return t?d({},e,{lastKnownEventTimestamp:t}):e},[b]:(e,t)=>d({},e,{bootInFlight:t}),[h]:(e,t)=>d({},e,{warmBootInFlight:t})},O,{storeKey:"consistency",persistenceEnabled:!0,beforeWriteTransform:e=>d({},e,{bootInFlight:O.bootInFlight,warmBootInFlight:O.warmBootInFlight})});g.meta={name:"consistency",key:"consistencyStoreConsistency"},g.propTypes={eventlogGapCount:a.default.number,lastKnownEventTimestamp:a.default.string,bootInFlight:a.default.bool,warmBootInFlight:a.default.bool},t.d=g,Object(i.b)(e=>e&&e.consistency&&e.consistency.eventlogGapCount).meta={name:"getEventlogGapCount",key:"consistencyStoreGetEventlogGapCount"};var v=Object(i.b)(e=>e&&e.consistency&&e.consistency.lastKnownEventTimestamp);v.meta={name:"getLastKnownEventTimestamp",key:"consistencyStoreGetLastKnownEventTimestamp"};var y=Object(i.b)(e=>e&&e.consistency&&e.consistency.bootInFlight);y.meta={name:"isBootInFlight",key:"consistencyStoreIsBootInFlight"};var I=Object(i.b)(e=>e&&e.consistency&&e.consistency.warmBootInFlight);I.meta={name:"isWarmBootInFlight",key:"consistencyStoreIsWarmBootInFlight"}},afo6:function(e,t,r){"use strict";r.d(t,"a",function(){return ConnectivityManager});var n=r("iYuT"),a=r("q/xz"),o=r("Pw4T"),s=10,i=3e5,c="exceeded_maximum_retries";class ConnectivityManager{constructor(e){var{maxAttempts:t=s,maxRetryAfter:r=i,logLabel:n="CONNECTIVITY-MANAGER",metricsLabel:o,testConnectivity:c,shouldCollectConnectivityMetrics:l=!1}=e;if(!c||"function"!=typeof c)throw new Error("ConnectivityManager requires a testConnectivity function.");this._testConnectivity=c,this._logLabel=n,this._metricsLabel=o,this._shouldCollectConnectivityMetrics=!(!l||!o),this._numberOfAttempts=0,this._retryAfter=0,this._maxAttempts=t,this._maxRetryAfter=r,this._retryTimeout=null,this._promiseToTestConnection=null,Object(a.a)(this)}waitForConnectivity(){return this._promiseToTestConnection||(this._shouldCollectConnectivityMetrics&&Object(o.a)().count("cm_flow_wait_for_connectivity_"+this._metricsLabel),this._promiseToTestConnection=this._testConnection().tap(()=>{this._shouldCollectConnectivityMetrics&&Object(o.a)().count("cm_flow_connected_"+this._metricsLabel)}).finally(()=>{this._reset()})),this._promiseToTestConnection}_testConnection(){return this._testConnectivity().catch(e=>this._promiseToRetryLater({retryAfter:e&&e.retryAfter,totalRetryAttempts:e&&e.totalRetryAttempts}))}_promiseToRetryLater(e){var{retryAfter:t=this._retryAfter,totalRetryAttempts:r=this._numberOfAttempts}=e;window.clearTimeout(this._retryTimeout);var a=Math.min(t,this._maxRetryAfter);return this._numberOfAttempts+=1,this._numberOfAttempts>=this._maxAttempts?(Object(n.e)(this._logLabel,"Failed to establish a connection after "+r+" attempt(s)."),this._shouldCollectConnectivityMetrics&&Object(o.a)().count("cm_flow_err_exceeded_max_retries_"+this._metricsLabel),Promise.reject(new Error(c))):(this._shouldCollectConnectivityMetrics&&Object(o.a)().count("cm_flow_failed_to_connect_"+this._metricsLabel),this._shouldLogErrors(r)&&Object(n.e)(this._logLabel,"Failed to establish a connection after "+r+" attempt(s); Retrying in "+a+"ms."),new Promise(e=>{this._retryTimeout=window.setTimeout(()=>{e(this._testConnection())},a)}))}_shouldLogErrors(e){return e<10||e%10==0}_reset(){this._numberOfAttempts=0,this._promiseToTestConnection=null,window.clearTimeout(this._retryTimeout),this._retryTimeout=null}}},ayyL:function(e,t,r){"use strict";r.d(t,"z",function(){return c}),r.d(t,"w",function(){return l}),r.d(t,"k",function(){return d}),r.d(t,"x",function(){return u}),r.d(t,"d",function(){return m}),r.d(t,"f",function(){return _}),r.d(t,"g",function(){return f}),r.d(t,"h",function(){return b}),r.d(t,"l",function(){return h}),r.d(t,"m",function(){return O}),r.d(t,"i",function(){return g}),r.d(t,"j",function(){return v}),r.d(t,"y",function(){return y}),r.d(t,"u",function(){return I}),r.d(t,"A",function(){return w}),r.d(t,"t",function(){return j}),r.d(t,"r",function(){return S}),r.d(t,"s",function(){return P}),r.d(t,"p",function(){return k}),r.d(t,"o",function(){return T}),r.d(t,"v",function(){return E}),r.d(t,"n",function(){return D}),r.d(t,"a",function(){return C}),r.d(t,"e",function(){return R}),r.d(t,"c",function(){return N}),r.d(t,"b",function(){return L}),r.d(t,"q",function(){return W});var n=r("zgq7"),a=r("XL7r"),o=r("Smdl"),s=r("1zgd"),i=r("Yd+W"),c=e=>!(!e||"workflow"!==e.type),l=Object(n.b)(e=>{var t=Object(a.k)(e,"welcome_place_state");return t&&"none"!==t});l.meta={name:"isWelcomePlaceOnboardingEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlaceOnboardingEnabled"};var d=Object(n.b)(e=>e&&e.welcomePlace&&e.welcomePlace.items?e.welcomePlace.items:[]);d.meta={name:"getPageItems",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageItems"};var u=Object(n.b)(e=>"enabled"===Object(a.k)(e,"welcome_place_state")&&(!Object(o.a)()||d(e).length>0));u.meta={name:"isWelcomePlacePageEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageEnabled"},Object(n.b)((e,t)=>{var{channelId:r,messageTimestamp:n}=t;return e.welcomePlace.channelMessages[r][n]}).meta={name:"getChannelMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetChannelMessage"};var p=Object(n.b)(e=>e.welcomePlace.userDetails);p.meta={name:"getUserDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetUserDetails"};var m=Object(n.b)(e=>p(e).app_file_management);m.meta={name:"getFileManagementDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetFileManagementDetails"};var _=Object(n.b)(e=>e.welcomePlace.userDetails.invite&&e.welcomePlace.userDetails.invite.inviter_id);_.meta={name:"getInviterId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInviterId"};var f=Object(n.b)(e=>e.welcomePlace.lastRequestTimestamp);f.meta={name:"getLastRequestTime",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastRequestTime"};var b=Object(n.b)(e=>e.welcomePlace.lastUsedLocale);b.meta={name:"getLastUsedLocale",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastUsedLocale"};var h=Object(n.b)(e=>e.welcomePlace.pageEntryPoint);h.meta={name:"getPageNavigationTrigger",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageNavigationTrigger"};var O=Object(n.b)(e=>e.welcomePlace.pageViewingSessionId);O.meta={name:"getPageViewingSessionId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageViewingSessionId"};var g=Object(n.b)(e=>e.welcomePlace.onboardingChannelId);g.meta={name:"getOnboardingChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingChannelId"};var v=Object(n.b)(e=>{var t,r,n=d(e).find(e=>"workflow"===e.type);if(!c(n))return null;var a=null==n?void 0:null===(t=n.content)||void 0===t?void 0:null===(r=t.workflow)||void 0===r?void 0:r.type;return"creator_onboarding"===a?i.g.Creator:"joiner_onboarding"===a?i.g.Joiner:null});v.meta={name:"getOnboardingWorkflowType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingWorkflowType"};var y=Object(n.b)(e=>{var t=d(e).find(e=>"workflow"===e.type);if(!c(t))return!1;var r=1e3*t.content.workflow.date_start;return Date.now()-r<6048e5});y.meta={name:"isWelcomePlacePageLinkBold",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageLinkBold"};var I=Object(n.b)(e=>e.welcomePlace.isOpenedFromSonicBoot);I.meta={name:"isOpenedFromSonicBoot",key:"welcomePlaceStoreWelcomePlaceSelectorsIsOpenedFromSonicBoot"};var w=Object(n.b)(()=>{if(!Object(o.a)())throw new Error("this selector can not be used from Legacy");return!1});w.meta={name:"shouldHideTopBanners",key:"welcomePlaceStoreWelcomePlaceSelectorsShouldHideTopBanners"};var j=Object(n.b)((e,t)=>{var r=d(e).find(e=>"workflow"===e.type);return c(r)?r.content.workflow.tasks.find(e=>e.subtype===t):null});j.meta={name:"getWorkflowTaskBySubtype",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowTaskBySubtype"};var S=Object(n.b)(e=>e.welcomePlace.isWorkflowItemCoachmarkVisible);S.meta={name:"getWorkflowItemCoachmarkVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowItemCoachmarkVisibility"},Object(n.b)(e=>e.welcomePlace.hasSentErrorLog).meta={name:"getHasSentErrorLog",key:"welcomePlaceStoreWelcomePlaceSelectorsGetHasSentErrorLog"},Object(n.b)(e=>e.welcomePlace.experiment).meta={name:"getExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperiment"},Object(n.b)(e=>e.welcomePlace.treatment).meta={name:"getExperimentTreatment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperimentTreatment"};var P=Object(n.b)(e=>{var t=d(e).find(e=>"workflow"===e.type&&c(e));if(!t)return{total:0,completed:0};var r=t.content.workflow.tasks.filter(s.a),n=r.filter(e=>"completed"===e.state).length,a=r.find(e=>"completed"!==e.state);return{total:r.length,completed:n,nextTaskType:a&&a.subtype}});P.meta={name:"getWorkflowProgress",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowProgress"};var k=Object(n.b)(e=>{if(v(e)===i.g.Creator)return i.c.CHANNEL;var t=p(e).send_message_task;return t&&t.type});k.meta={name:"getSendMessageTaskType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageTaskType"};var T=Object(n.b)(e=>{if(v(e)===i.g.Creator)return g(e);var t=p(e).send_message_task;return(t&&t.type)===i.c.CHANNEL?t.send_to_channel_id:""});T.meta={name:"getSendMessageCardConversationId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardConversationId"};var A=Object(n.b)(e=>e.welcomePlace.welcomePlaceSettings);A.meta={name:"getWelcomePlaceSettings",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWelcomePlaceSettings"},Object(n.b)(e=>{var t=A(e);return t.sendToChannelId?t.sendToChannelId:""}).meta={name:"getSendToChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendToChannelId"};var E=Object(n.b)(e=>{return"completed"===(j(e,i.f.SendMessage)||{}).state});E.meta={name:"isSendMessageTaskCompleted",key:"welcomePlaceStoreWelcomePlaceSelectorsIsSendMessageTaskCompleted"};var D=Object(n.b)(e=>Object(a.k)(e,"send_your_first_message_banner_enabled"));D.meta={name:"getPostSendMessageBannerVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPostSendMessageBannerVisibility"};var C=Object(n.b)(e=>e.welcomePlace.isAnimationStarted);C.meta={name:"getAnimationState",key:"welcomePlaceStoreWelcomePlaceSelectorsGetAnimationState"};var R=Object(n.b)(e=>e.welcomePlace.invitedUsers);R.meta={name:"getInvitedUsers",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInvitedUsers"};var N=Object(n.b)(e=>e.welcomePlace.defaultWelcomeMessages);N.meta={name:"getDefaultWelcomeMessages",key:"welcomePlaceStoreWelcomePlaceSelectorsGetDefaultWelcomeMessages"};var L=Object(n.b)(e=>e.welcomePlace.customWelcomeMessage);L.meta={name:"getCustomWelcomeMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetCustomWelcomeMessage"};var W=Object(n.b)(e=>e.welcomePlace.sentMessageChannelId);W.meta={name:"getSentMessageChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSentMessageChannelId"}},btH0:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("wHps");function a(e){return Object.values(n.a).includes(e)}},"d/52":function(e,t,r){"use strict";r.r(t);var n=r("rePB"),a=r("z2u5"),o=r("Omjo"),s=r("qe1s"),i=r("4Ms+"),c=r("Gogr"),l=r("lKeU"),d=r("HuaI"),u=r("IY6O"),p=r("TSHB"),m=r("m8R6"),_=r("fujP"),f=r("7EGn"),b=r("vfQU"),h=r("VMwU"),O=r("cErB"),g=()=>{var e=Object(b.J)("teams"),t=Object(b.J)("enterprise");if(!e)return null;var r=function(){var{theme:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.column_bg&&Object(h.d)(e.column_bg,20)},n=function(){var{team_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t[e]&&t[e].enterpriseId},a=function(){var{team_url:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";var{host:t,protocol:r}=Object(O.l)(e);return r+"//"+t+"/"},o=Object.keys(Object(c.c)("teams")||{}),s=Object(m.a)(e,o);return Object(p.a)(s,e=>({id:e.team_id,name:e.team_name,url:a(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:n(e),teamSwitcherBackground:r(e),isExpired:!0}))};var v=r("vATg"),y=r("sDWr"),I=r("Qe/g"),w=r("KXvl"),j=r("rWF5"),S=(r("i/gx"),".p-client_container_placeholder"),P=".p-client_container_placeholder__nav";function k(e){var{teamId:t,showTeamSwitcher:r=!1}=e,n=Object(c.e)(t,"isIAP1Enabled"),a=Object(c.e)(t,"channelSidebarBackground"),o=Object(c.e)(t,"teamSwitcherBackground"),s=Object(c.e)(t,"textColor"),i=Object(c.e)(t,"topNavBackground")||a,l=document.querySelector(S);if(l)if(Object(I.a)())!function(e){var t=document.createElement("div");t.classList.add("p-view_header_placeholder"),e.appendChild(t);var r=document.createElement("div");r.classList.add("p-message_input_placeholder"),e.appendChild(r),e.classList.add("p-client_container_placeholder--channel-popout")}(l);else{var d=l.querySelector(P);if(a){if(Object(w.b)()&&r&&(l.classList.add("p-client_container_placeholder--with-team-switcher"),l.style.borderLeftColor=o),n&&d&&s&&a){l.classList.add("p-client_container_placeholder--iap1");var u=Object(h.k)(s,a,.1),p=Object(h.n)(s,.1);l.style.borderRightColor=u,Object(j.F)()&&Object(j.l)()&&(d.style.height="7px"),d.style.backgroundColor=i,d.style.color=p,Object(w.b)()&&r&&(l.style.borderLeftColor=u,l.style.boxShadow="-60px 0px 0px 0px "+a,d.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}l.style.backgroundColor=a,l.style.opacity="1"}else T()}}function T(){var e=document.querySelector(S);e&&e.remove()}var A=r("JtEI"),E=r("A4VO"),D=r("rb67");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var R=Object(j.g)();R!==j.a.SAFARI&&R!==j.a.EDGE||Object(D.e)(),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),Promise.resolve(Object(i.b)({label:"setupGantry_"+Object(A.a)(Object(E.a)())},a.a)).then(e=>{var{teamId:t,forceColdBoot:r,triggerSignInAfterBoot:a,teamIdFromUrl:o}=e;return Object(j.l)()&&!Object(c.c)("migratedDesktopLocalConfig")&&(!function(){var e=Object(c.c)("prevTeams"),t=Object(_.a)(e)?Object(b.eb)()&&g():e;Object(c.m)("prevTeams",t);var r=Object(c.c)("orderedTeamIds"),n=Object(_.a)(r)?Object(f.a)(Object(b.J)("appTeams"),"teamsByIndex",[]):r;Object(c.m)("orderedTeamIds",n)}(),Object(c.m)("migratedDesktopLocalConfig",!0)),k({teamId:t,showTeamSwitcher:Object(l.a)().length>1}),Object(i.b)({label:"bootClient_"+Object(A.a)(r)},function(){var e,r;Object(y.t)(),t!==Object(c.c)("lastActiveTeamId")&&Object(c.m)("lastActiveTeamId",t);var i=new URL(window.location),l=(null==i?void 0:null===(e=i.searchParams)||void 0===e?void 0:e.get("pause_boot_step"))&&parseInt(null==i?void 0:null===(r=i.searchParams)||void 0===r?void 0:r.get("pause_boot_step"),10);return new Promise(e=>{1===l?window.nextBootStep=e:e()}).then(()=>Object(s.b)({teamId:t,shouldSetFocus:!0})).then(e=>{var t=Date.now(),{store:r,bootAssets:s,isWarmBooting:i}=e,{isJsPath:c,mountClient:l,isReload:d,isQa:u,isDev:p,registerGlobalErrorHandler:m,registerGlobalBeforeunloadHandler:_,registerNetworkConnectivityListener:f}=s;m(),_(),f();var b=r.getState(),h=s.getTelemeter({state:b}),O=i?"warm":"cold";c||p||u||(h.store("sonic_boot_phase_2_"+O,Date.now()-window.sonic_boot__phase_2__start),d()&&h.count("sonic_boot_via_reload"));var g=!0;return T(),l(document.querySelector(".p-client_container"),()=>{c||p||u||!g||(h.store("sonic_boot_phase_3_"+O,Date.now()-t),g=!1)}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{triggerSignInAfterBoot:a,teamIdFromUrl:o})})})}).catch(e=>{T(),Object(v.f)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(e){return e.bootAssets.listenForLongTasks(e),Promise.resolve(e)}).tap(function(){var{bootAssets:e,triggerSignInAfterBoot:t,teamIdFromUrl:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return;var{startWorkspaceSignIn:n,getClientStoreInstance:a}=e;a().dispatch(n({teamId:r}))}).then(function(e){if(!Object(w.b)())return Promise.resolve(e);var t=e.teamId,r=e.bootAssets.getAllWorkspacesFromLocalConfig(),n=e.bootAssets.getWorkspacesMetaFromLocalConfig(),a=r.filter(e=>n[e]&&!n[e].isExpired).filter(e=>e!==t);return Object(o.b)("BOOT","Booting other teams: "+a.join(",")),a.map(e=>s.b.bind(null,{teamId:e})).reduce((e,t,r)=>e.catch(e=>{Object(v.a)(a[r-1],e)}).finally(t),Promise.resolve()).then(()=>e)}).then(function(e){var{bootAssets:t}=e,{storeSSBMemoryStatsOnAnInterval:r}=t;return r(),Promise.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeReduxStoreStatsOnAnInterval:r}=t;return r(),Promise.resolve(e)}).then(function(e){var{bootAssets:t}=e,{registerServiceWorker:r,fetchApiCallsForCaching:n,isServiceWorkerAvailable:a}=t;a()&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{n(e)}),r());return Promise.resolve(e)}).then(function(e){var{bootAssets:t}=e,{isJsPath:r,isProduction:n,removeUrlQueryStringValue:a}=t;if(n&&!r){if(window.location.search.match("force_cold_boot")){var o=a(window.location.href,"force_cold_boot");window.history.replaceState({},"",o)}if(window.location.search.match("new_enough_acceptable")){var s=a(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",s)}}return Promise.resolve(e)}).then(function(e){var t=e.bootAssets.getAllWorkspacesFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then(()=>e)}).then(function(e){var{getClientStoreInstance:t,getStoreInstanceByTeamId:r,initPersistenceForTeam:n}=e.bootAssets,a=t();return Object(u.getBootedWorkspaces)(a.getState()).forEach(e=>{var t=r(e);n({teamId:e,store:t})}),Promise.resolve(e)}).then(function(e){var{getClientStoreInstance:t}=e.bootAssets;return t().dispatch(Object(d.setDidBootAllWorkspaces)()),Object(s.a)(),Promise.resolve(e)})},hgYl:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=r("Smdl"),a=["calendar","files","downloads","whats_new","shortcuts","details","apps",...Object(n.a)()?["search_results","activity","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top"]:["convo","groups","team","stars","mentions"]],o={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",TASKS:"tasks"}},"i/gx":function(e,t,r){},jr0b:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={SUCCESS:"success",ERROR:"error"}},lKeU:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("cZF4"),a=r("Muja"),o=r("0VPD"),s=r("Gogr");function i(){var e=Object.keys(Object(s.g)()),t=Object.keys(Object(s.f)()),r=Object(n.a)(e,t),i=Object(s.c)("orderedTeamIds"),c=Object(n.a)(Object(o.a)(i,r),e);return Object(a.a)(c,i)||Object(s.m)("orderedTeamIds",c),c}},qe1s:function(e,t,r){"use strict";r.d(t,"a",function(){return H}),r.d(t,"b",function(){return q});var n=r("rePB"),a=r("xnu4"),o=r("Omjo"),s=r("lhZz"),i=r("8Az7"),c=r("vATg"),l=r("A4VO"),d=r("Gogr"),u=r("rkcT"),p=r("cewN"),m=r("cErB"),_=r("TdUT"),f=r("sekS"),b=r("IbTH"),h=r("YjHT"),O=r("nNoG"),g=r("BNw7"),v=r("toaU"),y=r("sDWr"),I=r("POHe"),w=r("iTOt"),j=r("0QyR"),S=r("jngr"),P=r("JtEI"),k=r("DlLn"),T=r("fhz1"),A=r("KXvl");function E(e){if(!e.shouldSetFocus)return Promise.resolve(e);var{teamId:t,bootAssets:r}=e,{configureClientStore:n,getAllWorkspacesFromLocalConfig:a,getWorkspacesMetaFromLocalConfig:o,initializeWorkspacesStore:s}=r,i=n(),c=Object(A.b)()?a():[t],l=o();return i.dispatch(s({focusedWorkspace:t,allWorkspaces:c,workspacesMeta:l})),Promise.resolve(e)}function D(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),Promise.resolve(e)):Promise.resolve(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N="ensure_boot_data_failed",L=["user_removed_from_team","invalid_auth","not_authed","userLogin"],W="accesslimited",B="two_factor_setup_required";function M(e,t){if(window.isReloading)return Object(o.b)("BOOT","("+e.teamId+") Ongoing reload detected during ensure boot data error handler; Halting execution."),Object(g.a)();if(t&&t.data&&t.data.error===B)return Object(T.a)(e.teamId);if(t&&t.data&&t.data.error&&L.includes(t.data.error)&&!t.doNotFetchAuth)return Object(k.d)();var n=!!(t&&t.data&&t.data.active_migration),a=R({},e,{bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:!(!t||!t.data||t.data.error!==W)});return n||(Object(o.a)("Caught boot data error",t),Object(S.a)({err:t,teamId:e.teamId,description:Object(P.c)()+" boot failed to fetch boot data",subtype:Object(P.c)()+"_boot_data_error",version:Object(_.a)()})),function(e){var t=function(e){return Promise.all([r.e(0),r.e(97),r.e(10),r.e(24)]).then(r.bind(null,"OrkY")).then(t=>R({},e,{bootAssets:t}))}(e);e.shouldSetFocus&&(t=t.then(U));return t.then(F)}(a).then(e=>{var t=new Error(N);throw t.context=e,t})}function U(e){return E(e).then(D).then(()=>{var{bootAssets:t}=e,{registerServiceWorker:r}=t;return r(),Promise.resolve(e)})}function F(e){var{teamId:t,bootAssets:r,bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:a}=e,{configureStore:s,reducers:i,middlewares:c,setWorkspaceFailedToBoot:l,setWorkspaceIsMigrating:d,setWorkspaceIsAccessLimited:u,getClientStoreInstance:p,navigateToRoute:m,setWillNavigateToUnbootedWorkspaceId:_,getWillNavigateToUnbootedWorkspaceId:f}=r;Object(o.c)("BOOT","("+e.teamId+") failed to create store; initializing empty team store");var b=R({},e,{store:s({teamOrEnterpriseId:t,initialState:{},reducers:i,middlewares:c})}),h=p();return h.dispatch(l(t)),n&&(h.dispatch(d(t)),Object(o.c)("BOOT","("+e.teamId+") Workspace boot failed due to active migration")),a&&h.dispatch(u(t)),f(h.getState())===t?(m(v.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),h.dispatch(_(null)),Promise.resolve(e)):Promise.resolve(b)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var K={};function H(){Object.keys(K).forEach(e=>{delete K[e]})}function q(e){var{teamId:t,shouldSetFocus:r=!1}=e;return window.isReloading?(Object(o.b)("BOOT","("+t+") Ongoing reload detected; Cancelling boot."),Object(g.a)()):K[t]?K[t]:(K[t]=function(e,t){Object(o.b)("BOOT","("+e+") Initializing boot");var r=Object(l.a)(),n=Object(d.e)(e,"token"),a=Object(d.e)(e,"user_id"),s=Object(p.a)(window.location.search),i=Object(f.a)(window.location.search,document.cookie);return Promise.resolve({teamId:e,teamToken:n,forceColdBoot:r,featureFlagURLOverrides:s,experimentGroupOverrides:i,shouldSetFocus:t,shouldRetry:!0,userId:a,bootedOffline:!window.navigator.onLine})}(t,r).then(e=>(function(e){return Object(i.c)(e.teamToken,e.teamId),Promise.resolve(e)})(e).then(V).then(Y).then(X).then(J).then(E).then(D).then(Q).then(z).then($).then(ee).then(ne).then(ae).then(oe).then(se).then(ie).then(ce).then(le).then(ue).then(de).then(pe).then(me).catch(r=>{return re(t),r&&r.message===N?r.context:Object(c.f)(r,G({},e,{teamId:t,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))})),K[t])}function V(e){var t={},{teamId:n,teamToken:a,forceColdBoot:o,shouldSetFocus:s,store:i,userId:l,bootedOffline:d}=e,p=Object(u.c)({store:i,shouldSetFocus:s});if(!p){var m=Object(u.d)(n);m&&(p=m)}var _=[Promise.all([r.e(0),r.e(97),r.e(10),r.e(24)]).then(r.bind(null,"OrkY")).then(e=>(t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(c.b.bind(null,n)),Object(j.a)({teamId:n,teamToken:a,routeInfo:p,forceAPI:o,userId:l,shouldSetFocus:s,bootedOffline:d,reason:"initial-data"}).then(e=>(t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(M.bind(null,e)),Object(b.a)(Object(O.r)({recalc:!0,teamId:n})).then(e=>(t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(c.d.bind(null,n))];return Promise.all(_).then(r=>{var[n,{isWarmBooting:a,bootData:o}={}]=r;return t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now(),Z(G({},e,{bootAssets:n,bootData:o,isWarmBooting:a,timing:t,routeInfo:p}))})}function Y(e){var{bootData:t,isWarmBooting:r,teamId:n}=e||{};if(r)return Promise.resolve(e);var{miscBootData:a,teamData:s}=t||{},{domain:i}=s||{},{acceptTosUrl:c}=a||{};if(!c||!i)return Promise.resolve(e);var l=Object(p.f)(location.search,"force_cold_boot",1),d="/gantry"+location.pathname+l,u=Object(m.q)(c,"redirect",d);return Object(o.b)("BOOT","("+n+") User needs to accept the terms of service; redirecting to "+u),location.assign(u),Object(g.a)()}function X(e){var{teamId:t,bootAssets:r}=e,{setLocale:n,getLocale:a}=r;return Promise.resolve(n(a({teamId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(()=>e)}function J(e){var{teamId:t,isWarmBooting:r,bootAssets:n,featureFlagURLOverrides:a,bootData:o}=e,{getImmediatelyPersistedState:s,reducers:i,purgeStoredModel:l,forceColdBoot:d,processStoredState:u}=n;return(()=>r?u({teamId:t,reducerConfig:i,storedState:o}):Promise.resolve({}))().then(n=>{if(!n)return d({reason:"getStoredStateIfValid didn\u2019t return any stored state",reasonKey:"warm_boot_without_stored_state",immediate:!0}),Object(g.a)();var c=G({},n,{bootData:G({},n.bootData,{},a,{version_ts:Object(_.a)()})}),l=r?n&&n.bootData&&n.bootData.user_id:o&&o.selfData&&o.selfData.id;return Z(G({initialState:s({teamId:t,userId:l,reducerConfig:i,state:c}),userId:l},e))}).catch(e=>(Object(c.e)(t,l,d,e),Object(g.a)()))}function Q(e){var{bootAssets:t}=e,{loadEmojiTranslations:r}=t;return r(),e}function z(e){var{teamId:t,bootAssets:r}=e;return r.populateTeamDebugger(t),Promise.resolve(e)}function Z(e){var{initialState:t,bootAssets:r,bootData:n,isWarmBooting:a}=e,o=a?t&&t.bootData:n&&n.miscBootData;return r.maybeReloadForMinVersionBump({isWarmBooting:a,bootData:o}).then(t=>t?Object(g.a)():G({},e,{isReloadingForMinVersionBump:t}))}function $(e){if(!e.isWarmBooting)return e;Object(o.b)("BOOT","("+e.teamId+") Booting warm");var{teamId:t,bootAssets:r,experimentGroupOverrides:n,initialState:a={}}=e,{configureStore:s,reducers:i,overrideExperimentAssignments:c,middlewares:l}=r,d=s({teamOrEnterpriseId:t,initialState:a,reducers:i,middlewares:l});d.dispatch(Object(h.k)(!0)),n&&n.all&&d.dispatch(c(n.all)),n&&n[t]&&d.dispatch(c(n[t]));var u=e.timing||{};u.sonic_boot__phase_2_2_2__duration=Date.now()-u.sonic_boot__phase_2_2_2__start;var p=G({},e,{store:d,timing:u});return Promise.resolve(p)}function ee(e){if(e.isWarmBooting)return e;Object(o.b)("BOOT","("+e.teamId+") Booting cold");var{teamId:t,bootData:r,bootAssets:n,featureFlagURLOverrides:a,experimentGroupOverrides:s,shouldSetFocus:i,initialState:c={}}=e,{dispatchBootData:l,getMembersById:p,configureStore:m,reducers:_,middlewares:f,checkForPersistenceMethodChanges:b}=n;return b(t).then(()=>{var n=m({teamOrEnterpriseId:t,reducers:_,initialState:c,middlewares:f}),o=G({},e,{store:n}),b=Object(u.c)({store:n,shouldSetFocus:i});if(n.dispatch(Object(h.k)(!1)),!b){var O=Object(u.d)(t);O?b=O:r.channelsData&&(b=te(r))}l(n,r,b,a,s);var g=n.getState(),v=(r&&r.membersToFetch||[]).filter(e=>!(g&&g.members&&g.members[e]));p(g,v);var y=o.timing||{};y.sonic_boot__phase_2_2_2__duration=Date.now()-y.sonic_boot__phase_2_2_2__start;var I=Object(d.c)("lastColdBootTs"),w=Date.now();I&&(y.sonic_boot_time_between_cold_boots=w-I),Object(d.m)("lastColdBootTs",w);var j=G({},o,{timing:y});return re(t),Promise.resolve(j)})}function te(e){var t;if(!(null==e?void 0:null===(t=e.channelsData)||void 0===t?void 0:t.length))return null;var r={},n=e.selfData.id;return e.channelsData.some(function(){var{is_general:e,user:t,id:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return e?(r.general=a,!0):("USLACKBOT"===t&&(r.slackbot=a),t===n&&(r.self=a),o||(r.first=a),!1)}),{routeName:y.b,params:{entityId:r.general||r.slackbot||r.self||r.first}}}function re(e){var t=Object(s.getStoreInstanceByTeamId)(e);t&&(Object(o.b)("BOOT","("+e+") Boot complete"),I.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(h.i)(!1)))}function ne(e){var{store:t,teamId:r,bootAssets:{getLocaleFeatureFlags:n,localesEnabled:s,queryStringParse:i,resetCredentials:c,removeUrlQueryStringValue:l,getLocale:d}}=e,u=n(t.getState()),p=s(Object.keys(u).reduce((e,t)=>G({},e,{[Object(a.a)(t)]:u[t]}),{})),m=i(window.location.search),_=d();return!p[_]&&Object.keys(m).includes("locale")?(Object(o.b)("BOOT","team "+r+" attempted to boot into locale "+_+" which has not been enabled; clearing credentials and reloading app"),c(),window.location=l(window.location.href,"locale"),Object(g.a)()):Promise.resolve(e)}function ae(e){var{shouldSetFocus:t,store:r,bootAssets:n,bootData:a,isWarmBooting:o,teamId:s}=e,{getRouteName:i,getRouteParams:c,updateCurrentRoute:l,getCurrentRouteInfo:d,navigateToRoute:p,getClientStoreInstance:m,setWillNavigateToUnbootedWorkspaceId:_,getWillNavigateToUnbootedWorkspaceId:f}=n,b=m();if(f(b.getState())===s)return p(v.a,{teamId:s},{reason:"delayed-unbooted-team-switch"}),b.dispatch(_(null)),Promise.resolve(e);if(!t)return Promise.resolve(e);if(o){var h=d(window.location.pathname,{throwOnNoRoute:!1});if(h&&h.params&&h.params.entityId)r.dispatch(l(h));else{var O=Object(u.d)(s);if(O)r.dispatch(l(O));else if(null==a?void 0:a.channelsData){var g=te(a);g&&r.dispatch(l(g))}}}if(Object(w.f)(r.getState()))return Promise.resolve(e);var I=r.getState(),j=i(I),S=c(I);return S&&y.a[S.entityId]&&(S.entityId=y.a[S.entityId]),p(j,S,{shouldReplaceState:!0}),Promise.resolve(e)}function oe(e){var{store:t,bootAssets:r,isWarmBooting:n}=e,a=n?"warm":"cold";return t.dispatch(r.setBootType(a)),Promise.resolve(e)}function se(e){var{teamId:t,bootAssets:r,store:n}=e,{getClientStoreInstance:a,setWorkspaceBooted:o,setWindow:s,getWindow:i,hasWorkspaceFailedToBoot:c}=r,l=a(),d=l.getState(),u=i(d);return n.dispatch(s(u)),c(d,t)?Promise.resolve(e):(l.dispatch(o(t)),Promise.resolve(e))}function ie(e){if(e.isWarmBooting)return e;var{setLocalConfigForTeamWithKey:t}=e.bootAssets,r=document.documentElement,n=!(!r||!r.dataset)&&r.dataset.versionTs;return"dev"!==n&&(n=parseInt(n,10)),t(e.teamId,"versionDataTs",n),Promise.resolve(e)}function ce(e){return e.bootAssets.connectSocket(e)}function le(e){var{bootAssets:t,store:r,teamId:n,teamToken:a,featureFlagURLOverrides:s,experimentGroupOverrides:i,userId:c,isWarmBooting:l}=e,{dispatchBootData:d,getMembersById:p,fetchDrafts:m,maybeReloadSlashCommands:_,maybeReloadEmoji:f,fetchAndUpsertWhatsNewUpdates:b,loadAppActions:O,shouldSetFocus:g,maybeCountServiceWorkerNetworkStackFailureRefresh:v,throttledLoadMegaphoneNotificationData:y}=t;if(l){Object(o.b)("BOOT","("+n+") Fetching fresh boot data after booting with persisted store");var I=Object(u.c)({store:r,shouldSetFocus:g});Object(j.a)({teamId:n,teamToken:a,routeInfo:I,forceAPI:!0,userId:c,shouldSetFocus:g,reason:"deferred-data"}).then(function(){var{bootData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Z(G({},e,{isWarmBooting:!1,bootData:t})).then(()=>t)}).then(t=>{r.dispatch(Object(h.k)(!1)),d(r,t,I,s,i);var n=r.getState(),a=(t&&t.membersToFetch||[]).filter(e=>!(n&&n.members&&n.members[e]));p(n,a);var o=G({},e,{isWarmBooting:!1});ae(o),Y(G({},o,{bootData:t})),pe(e)}).finally(()=>{re(n)})}return setTimeout(()=>{r.dispatch(m()),r.dispatch(_()),r.dispatch(f()),r.dispatch(O()),r.dispatch(y()),r.dispatch(b({reason:"boot-team"})),v(),function(e){var{store:t,shouldSetFocus:r,bootAssets:n}=e,a=t.getState();r&&n.maybeEnablePWA(a)}(e)},0),Promise.resolve(e)}function de(e){var{store:t,bootAssets:r,shouldSetFocus:n}=e,{getTelemeter:a,isScreenReaderEnabled:o}=r,s=t.getState();return n&&o(s)&&a({state:s}).count("screenreader_enabled"),Promise.resolve(e)}function ue(e){var{store:t,bootAssets:r,shouldSetFocus:n,isWarmBooting:a,timing:o,bootedOffline:s}=e,{getTelemeter:i,isJsPath:c,isQa:l,isDev:d,getDesktopPreloadTime:u,getClientStoreInstance:p,setShouldLogTTUMetrics:m,setShouldLogAppBootMetrics:_,ttiPolyfill:f}=r,b=i({state:t.getState()}),h=a?"warm":"cold";if(c||d)return Promise.resolve(e);if(l)return Promise.resolve(e);if(n){if(s){b.count("sonic_boot_offline");var O=p();return O.dispatch(m(!1)),O.dispatch(_(!1)),Promise.resolve(e)}var g=r.isReload()?"_reload":"";b.count("sonic_boot"),r.isReload()&&b.count("sonic_boot_reload");var v=u();if(v>0&&b.store("sonic_boot_desktop_preload"+g,v),window.performance&&window.performance.getEntriesByName){var y=""+window.location.origin+window.location.pathname,I=window.performance.getEntriesByName(y);if(I&&I[0]){var w=I[0],j=w.requestStart-w.workerStart,S=0===j?"awake":"asleep";b.count("sonic_boot_sw_status_"+S),b.store("sonic_boot_sw_startup_time_"+h,j)}}window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0&&(b.store("sonic_boot_window__connectStart_"+h+g,window.performance.timing.connectStart-window.performance.timing.fetchStart),b.store("sonic_boot_window__connectEnd_"+h+g,window.performance.timing.connectEnd-window.performance.timing.fetchStart),b.store("sonic_boot_window__requestStart_"+h+g,window.performance.timing.requestStart-window.performance.timing.fetchStart),b.store("sonic_boot_window__responseStart_"+h+g,window.performance.timing.responseStart-window.performance.timing.fetchStart),b.store("sonic_boot_window__responseEnd_"+h+g,window.performance.timing.responseEnd-window.performance.timing.fetchStart),b.store("sonic_boot_window__domLoading_"+h+g,window.performance.timing.domLoading-window.performance.timing.fetchStart),b.store("sonic_boot_phase_1_"+h+g,window.sonic_boot__phase_1__duration+v)),b.store("sonic_boot_phase_2_1_"+h,0),b.store("sonic_boot_phase_1_5_"+h,window.sonic_boot__phase_1_5__duration);var P=Date.now()-window.sonic_boot__phase_2__start;b.store("sonic_boot_phase_2_2_"+h,P),b.store("sonic_boot_phase_2_2_1_"+h,o.sonic_boot__phase_2_2_1__duration),b.store("sonic_boot_phase_2_2_1_1_"+h,o.sonic_boot__phase_2_2_1_1__duration),b.store("sonic_boot_phase_2_2_1_2_"+h,o.sonic_boot__phase_2_2_1_2__duration),b.store("sonic_boot_phase_2_2_1_3_"+h,o.sonic_boot__phase_2_2_1_3__duration),b.store("sonic_boot_phase_2_2_2_"+h,o.sonic_boot__phase_2_2_2__duration),b.store("sonic_boot_phase_2_2_3_"+h,P-o.sonic_boot__phase_2_2_1__duration-o.sonic_boot__phase_2_2_2__duration),f.getFirstConsistentlyInteractive().then(e=>{b.store("sonic_tti_"+h,e)}),o.sonic_boot_time_between_cold_boots&&b.store("sonic_boot_time_between_cold_boots",o.sonic_boot_time_between_cold_boots)}return Promise.resolve(e)}function pe(e){var{teamId:t,store:r,bootAssets:n}=e,a=r.getState();return n.saveColorsToLocalConfig(t,a),Promise.resolve(e)}function me(e){try{var{store:t,bootAssets:r}=e,{openChannelBrowser:n,openChannelCreateModal:a,openInviteModalFromExternalLink:o,openPrefsModal:s,queryStringParse:i}=r,c=i(window.location.search),{open:l}=c;if(!l)return Promise.resolve(e);var{dispatch:d}=t;switch(l){case"browse_channels":d(n());break;case"create_channel":d(a({entryPoint:"external_link"}));break;case"invite_members":d(o({source:c.source,provider:c.provider}));break;case"notifications":d(s({activeSection:"notifications"}))}return Promise.resolve(e)}catch(u){return Promise.resolve(e)}}},s0HP:function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i});var n=r("aK/h"),a=r("A2B7"),o=Object(a.b)("Initialize user preferences");o.meta={name:"setUserPrefs",key:"prefsStoreUserActionsSetUserPrefs",description:"Initialize user preferences"},o.propTypes=n.default.object.isRequired;var s=Object(a.b)("Update one user pref");s.meta={name:"setUserPref",key:"prefsStoreUserActionsSetUserPref",description:"Update one user pref"},s.propTypes={pref:n.default.string.isRequired,value:n.default.any.isRequired};var i=Object(a.b)("Update multiple users pref");i.meta={name:"setMultipleUserPrefs",key:"prefsStoreUserActionsSetMultipleUserPrefs",description:"Update multiple users pref"},i.propTypes=n.default.object.isRequired},sDWr:function(e,t,r){"use strict";r.d(t,"b",function(){return y}),r.d(t,"n",function(){return I}),r.d(t,"f",function(){return w}),r.d(t,"c",function(){return j}),r.d(t,"m",function(){return S}),r.d(t,"k",function(){return P}),r.d(t,"j",function(){return k}),r.d(t,"i",function(){return T}),r.d(t,"q",function(){return A}),r.d(t,"p",function(){return E}),r.d(t,"s",function(){return D}),r.d(t,"l",function(){return C}),r.d(t,"h",function(){return R}),r.d(t,"g",function(){return N}),r.d(t,"r",function(){return L}),r.d(t,"d",function(){return W}),r.d(t,"o",function(){return B}),r.d(t,"e",function(){return M}),r.d(t,"a",function(){return U}),r.d(t,"t",function(){return G});var n=r("kLJo"),a=r("toaU"),o=r("tYiI"),s=r("J9z2"),i=r("+1yX"),c=r("UUlk"),l=r("FHcd"),d=r("k2C/"),u=r("uFGw"),p=/^[\d]{10}\.[\d]{6}$/;function m(e){return p.test(e)}var _=/^(C|G|D)[A-Z0-9]{8,}-[\d]{10}\.[\d]{6}$/;var f=r("NFsq"),b=r("hgYl");var h=r("btH0"),O=r("+Sjy"),g=r("Er5K"),v=r("wCpp"),y="ROUTE_ENTITY",I="ROUTE_FLEX_THREAD",w="ROUTE_FLEX_DETAILS",j="ROUTE_FLEX_ACTIVITY_PANE",S="ROUTE_FLEX_STARRED",P="ROUTE_FLEX_SAVED",k="ROUTE_FLEX_FILES",T="ROUTE_FLEX_FILE",A="ROUTE_FLEX_USER_GROUPS",E="ROUTE_FLEX_USER_GROUP",D="ROUTE_FLEX_WHATS_NEW",C="ROUTE_FLEX_SHORTCUTS",R="ROUTE_FLEX_DOWNLOADS",N="ROUTE_FLEX_DIRECTORY",L="ROUTE_FLEX_USER_PROFILE",W="ROUTE_FLEX_APP_PROFILE",B="ROUTE_FLEX_USER_CALENDAR",M="ROUTE_FLEX_CHANNEL_INSPECTOR",U={"stars-page":"saved-page"},F={entityId:e=>Object(o.a)(e)||Object(s.a)(e)||Object(i.a)(e)||Object(c.a)(e)||Object(l.a)(e)||Object(d.a)(e)||Object(u.a)(e)||Object(h.a)(e)||Object(O.h)(e)||(e=>Object.keys(U).includes(e))(e),appOrServiceId:e=>Object(s.a)(e)||Object(o.a)(e),timestamp:m,threadId:function(e){return _.test(e)},replyTs:m,sectionId:function(e){return Object(f.a)(b.a,e)||""===e},tabId:e=>Object(g.c)(e),draftId:v.c,channelId:i.a},x={[a.a]:{paths:["/"]},[y]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:draftId"]},[I]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId"]},ROUTE_FLEX_CHANNEL_INFO:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info"]},[M]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[w]:{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/:tabId/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId","/:entityId/:tabId/details/:sectionId","/:entityId/:draftId/details/:sectionId","/:entityId/:draftId/details"]},[j]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity"]},[S]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items"]},[P]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved"]},[k]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:tabId/files","/:entityId/:draftId/files"]},[T]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId"]},ROUTE_FLEX_FILE_TYPE:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type"]},ROUTE_FLEX_FILE_USER:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId"]},[A]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups"]},[E]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId"]},[D]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new"]},[C]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts"]},[R]:{paths:["/:entityId/downloads","/:entityId/:timestamp/downloads","/:entityId/:tabId/downloads","/:entityId/:draftId/downloads"]},[N]:{paths:["/:entityId/directory","/:entityId/:timestamp/directory","/:entityId/:tabId/directory","/:entityId/:draftId/directory"]},[L]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId"]},[W]:{paths:["/:entityId/app_profile/:appOrServiceId","/:entityId/:timestamp/app_profile/:appOrServiceId","/:entityId/:tabId/app_profile/:appOrServiceId","/:entityId/:draftId/app_profile/:appOrServiceId"]},[B]:{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar","/:entityId/:tabId/calendar","/:entityId/:draftId/calendar"]}};function G(){Object(n.d)(F,x)}},sekS:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r("rePB"),a=r("cewN"),o=r("cW5R");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var i=["force_cold_boot"];function c(e,t){var r={},c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(o.b)(t),{},Object(a.d)(e));return Object.keys(c).forEach(e=>{if(e.startsWith("force_")&&!i.includes(e)&&c[e]){var t=e.slice(6);c[e].split(",").forEach(e=>{var n="all",a=e,o=e.indexOf(":");o>=0&&(n=e.slice(0,o),a=e.slice(o+1)),r[n]||(r[n]={}),r[n][t]=a})}}),r}},tYiI:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=/^@?A[A-Z0-9]{8,}$/;function a(e){return n.test(e)}},v5z3:function(e,t,r){"use strict";r.d(t,"g",function(){return n}),r.d(t,"f",function(){return a}),r.d(t,"e",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return i}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return l});var n,a,o,s=r("yhG8");!function(e){e.TeamName="TeamName",e.Channels="Channels",e.Invites="Invites"}(n||(n={})),function(e){e.TeamName="setup-team-name",e.Channels="setup-channels",e.Invites="setup-invites"}(a||(a={})),function(e){e.TeamName="Psetup-team-name",e.Channels="Psetup-channels",e.Invites="Psetup-invites"}(o||(o={}));var i,c=[n.TeamName,n.Channels,n.Invites];!function(e){e[e.Project=s.e.PROJECT]="Project",e[e.Team=s.e.TEAM]="Team",e[e.Announcements=s.e.ANNOUNCEMENTS]="Announcements",e[e.Brainstorming=s.e.BRAINSTORMING]="Brainstorming",e[e.Sync=s.e.SYNC]="Sync"}(i||(i={}));var l,d=[i.Project,i.Team,i.Brainstorming,i.Announcements,i.Sync];!function(e){e.channelType="generic_channel",e.channelName=""}(l||(l={}))},wCpp:function(e,t,r){"use strict";function n(e){if(e)return"draft-"+e}function a(e){if(e){var[,t]=e.match(/^draft-(.+)/)||[];return t}}function o(e){return/^draft-.+/.test(e)}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o})},wHps:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("4v0o"),a={[n.a.allUnreads]:"unreads",[n.a.allThreads]:"threads",[n.a.search]:"search"}},yhG8:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return s}),r.d(t,"c",function(){return i});var n="CHANNELS-ACTIONS",a="Upsert a channel, group, mpim, or im",o={ADD_CHANNEL:"Add a channel, overwriting anything previously stored with the same id",ARCHIVE_CHANNEL:"Archive channel",BULK_ADD_CHANNELS:"Bulk add channels, overwriting anything previously stored with the same id",BULK_UPDATE_CHANNELS:"Update a few keys for multiple channels",CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS:"Legacy hack: set the _show_in_list_even_though_no_unreads for all channels to be false",CONVERT_TO_PRIVATE:"Convert a channel to private",CONVERT_TO_SHARED:"Convert a channel to an enterprise shared channel (cross-workspace or org-wide)",CHANNEL_UPDATED:"Channel was updated (privacy, permissions or externally shared status changed)",ORG_ACCESS:"Update the teams this channel is shared with on your organization or update to cross-workspace or org-wide",LEAVE_CHANNEL:"Leave channel",RENAME_CHANNEL:"Rename a channel",SET_PURPOSE:"Set a channel purpose",SET_STAR:"Set starred state for a channel",SET_TOPIC:"Set a channel topic",UNARCHIVE_CHANNEL:"Unarchive a channel",UPDATE_ONE_KEY:"Update one key for a channel by id",UPDATE_WORKSPACE_ACCESS:"Update workspace access for a channel",UPSERT_CHANNEL:a,CHILD_CHANNEL_CREATED:"Archive old private channel and replace it with new private channel with same name"},s={WELCOME:"welcome",ANNOUNCEMENTS:"announcements",SYNC:"sync",PROJECT:"project",TEAM:"team",BRAINSTORMING:"brainstorming",DM:"dm"},i={GENERIC:"generic"}}},[["d/52",2,43,17,101,10]]]);